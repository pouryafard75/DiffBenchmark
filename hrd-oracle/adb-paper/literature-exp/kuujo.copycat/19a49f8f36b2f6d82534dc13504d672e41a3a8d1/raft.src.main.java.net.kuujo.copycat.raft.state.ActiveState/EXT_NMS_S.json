{
  "intraFileMappings" : {
    "matchedElements" : [
 {
      "left" : "ActiveState",
      "right" : "ActiveState",
      "info" : "TypeDeclaration[1001-20750]:TypeDeclaration[1001-11384]"
    }, {
      "left" : "protected ActiveState(RaftStateContext context)",
      "right" : "protected ActiveState(RaftStateContext context)",
      "info" : "MethodDeclaration[1189-1262]:MethodDeclaration[1157-1230]"
    }, {
      "left" : "protected CompletableFuture<RaftState> transition(RaftState state)",
      "right" : "protected void transition(RaftState state)",
      "info" : "MethodDeclaration[1266-1843]:MethodDeclaration[1234-1794]"
    }, {
      "left" : "private AppendResponse handleAppend(AppendRequest request)",
      "right" : "protected VoteResponse handleVote(VoteRequest request)",
      "info" : "MethodDeclaration[2373-3643]:MethodDeclaration[2728-5849]"
    }, {
      "left" : "private AppendResponse doCheckPreviousEntry(AppendRequest request)",
      "right" : "protected VoteResponse handleVote(VoteRequest request)",
      "info" : "MethodDeclaration[3647-5572]:MethodDeclaration[2728-5849]"
    }, {
      "left" : "private AppendResponse doAppendEntries(AppendRequest request)",
      "right" : "private boolean logUpToDate(long index, long term, Request request)",
      "info" : "MethodDeclaration[5576-8299]:MethodDeclaration[5853-7389]"
    }, {
      "left" : "private CompletableFuture<Void> applyCommits(long commitIndex)",
      "right" : "private boolean logUpToDate(long index, long term, Request request)",
      "info" : "MethodDeclaration[8303-10976]:MethodDeclaration[5853-7389]"
    }, {
      "left" : "protected CompletableFuture<PollResponse> poll(PollRequest request)",
      "right" : "protected CompletableFuture<PollResponse> poll(PollRequest request)",
      "info" : "MethodDeclaration[11164-11368]:MethodDeclaration[1798-2002]"
    }, {
      "left" : "protected PollResponse handlePoll(PollRequest request)",
      "right" : "protected PollResponse handlePoll(PollRequest request)",
      "info" : "MethodDeclaration[11372-11882]:MethodDeclaration[2006-2516]"
    }, {
      "left" : "protected CompletableFuture<VoteResponse> vote(VoteRequest request)",
      "right" : "protected CompletableFuture<VoteResponse> vote(VoteRequest request)",
      "info" : "MethodDeclaration[11886-12090]:MethodDeclaration[2520-2724]"
    }, {
      "left" : "protected VoteResponse handleVote(VoteRequest request)",
      "right" : "protected VoteResponse handleVote(VoteRequest request)",
      "info" : "MethodDeclaration[12094-15215]:MethodDeclaration[2728-5849]"
    }, {
      "left" : "private boolean logUpToDate(long index, long term, Request request)",
      "right" : "private boolean logUpToDate(long index, long term, Request request)",
      "info" : "MethodDeclaration[15219-16755]:MethodDeclaration[5853-7389]"
    }, {
      "left" : "protected CompletableFuture<QueryResponse> query(QueryRequest request)",
      "right" : "protected CompletableFuture<QueryResponse> query(QueryRequest request)",
      "info" : "MethodDeclaration[16759-17188]:MethodDeclaration[7393-7822]"
    }, {
      "left" : "private CompletableFuture<QueryResponse> queryForward(QueryRequest request)",
      "right" : "private CompletableFuture<QueryResponse> queryForward(QueryRequest request)",
      "info" : "MethodDeclaration[17192-17638]:MethodDeclaration[7826-8272]"
    }, {
      "left" : "private CompletableFuture<QueryResponse> querySequential(QueryRequest request)",
      "right" : "private CompletableFuture<QueryResponse> querySequential(QueryRequest request)",
      "info" : "MethodDeclaration[17642-19213]:MethodDeclaration[8276-9847]"
    }, {
      "left" : "private CompletableFuture<QueryResponse> querySerializable(QueryRequest request)",
      "right" : "private CompletableFuture<QueryResponse> querySerializable(QueryRequest request)",
      "info" : "MethodDeclaration[19217-20747]:MethodDeclaration[9851-11381]"
    } ],
    "mappings" : [
 {
      "left" : "abstract",
      "right" : "abstract",
      "info" : "Modifier[1104-1112]:Modifier[1104-1112]"
    }, {
      "left" : "class",
      "right" : "class",
      "info" : "TYPE_DECLARATION_KIND[1113-1118]:TYPE_DECLARATION_KIND[1113-1118]"
    }, {
      "left" : "ActiveState",
      "right" : "ActiveState",
      "info" : "SimpleName[1119-1130]:SimpleName[1119-1130]"
    }, {
      "left" : "PassiveState",
      "right" : "PassiveState",
      "info" : "SimpleType[1139-1151]:SimpleType[1139-1151]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[1189-1198]:Modifier[1157-1166]"
    }, {
      "left" : "ActiveState",
      "right" : "ActiveState",
      "info" : "SimpleName[1199-1210]:SimpleName[1167-1178]"
    }, {
      "left" : "RaftStateContext context",
      "right" : "RaftStateContext context",
      "info" : "SingleVariableDeclaration[1211-1235]:SingleVariableDeclaration[1179-1203]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1237-1262]:Block[1205-1230]"
    }, {
      "left" : "super(context);",
      "right" : "super(context);",
      "info" : "SuperConstructorInvocation[1243-1258]:SuperConstructorInvocation[1211-1226]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[1311-1320]:Modifier[1246-1255]"
    }, {
      "left" : "CompletableFuture<RaftState>",
      "right" : "CompletableFuture<PollResponse>",
      "info" : "ParameterizedType[1321-1349]:ParameterizedType[1820-1851]"
    }, {
      "left" : "RaftState",
      "right" : "RaftState",
      "info" : "SimpleType[1339-1348]:SimpleType[1272-1281]"
    }, {
      "left" : "transition",
      "right" : "transition",
      "info" : "SimpleName[1350-1360]:SimpleName[1261-1271]"
    }, {
      "left" : "RaftState state",
      "right" : "RaftState state",
      "info" : "SingleVariableDeclaration[1361-1376]:SingleVariableDeclaration[1272-1287]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1378-1843]:Block[1289-1794]"
    }, {
      "left" : "switch (state) {\n      case START:\n        return context.transition(StartState.class);\n      case PASSIVE:\n        return context.transition(PassiveState.class);\n      case FOLLOWER:\n        return context.transition(FollowerState.class);\n      case CANDIDATE:\n        return context.transition(CandidateState.class);\n      case LEADER:\n        return context.transition(LeaderState.class);\n      default:\n        throw new IllegalStateException();\n    }",
      "right" : "switch (state) {\n      case START:\n        context.transition(StartState.class);\n        break;\n      case PASSIVE:\n        context.transition(PassiveState.class);\n        break;\n      case FOLLOWER:\n        context.transition(FollowerState.class);\n        break;\n      case CANDIDATE:\n        context.transition(CandidateState.class);\n        break;\n      case LEADER:\n        context.transition(LeaderState.class);\n        break;\n      default:\n        throw new IllegalStateException();\n    }",
      "info" : "SwitchStatement[1384-1839]:SwitchStatement[1295-1790]"
    }, {
      "left" : "case START:",
      "right" : "case START:",
      "info" : "SwitchCase[1407-1418]:SwitchCase[1318-1329]"
    }, {
      "left" : "context.transition(StartState.class)",
      "right" : "context.transition(StartState.class)",
      "info" : "MethodInvocation[1434-1470]:MethodInvocation[1338-1374]"
    }, {
      "left" : "case PASSIVE:",
      "right" : "case PASSIVE:",
      "info" : "SwitchCase[1478-1491]:SwitchCase[1397-1410]"
    }, {
      "left" : "context.transition(PassiveState.class)",
      "right" : "context.transition(PassiveState.class)",
      "info" : "MethodInvocation[1507-1545]:MethodInvocation[1419-1457]"
    }, {
      "left" : "case FOLLOWER:",
      "right" : "case FOLLOWER:",
      "info" : "SwitchCase[1553-1567]:SwitchCase[1480-1494]"
    }, {
      "left" : "context.transition(FollowerState.class)",
      "right" : "context.transition(FollowerState.class)",
      "info" : "MethodInvocation[1583-1622]:MethodInvocation[1503-1542]"
    }, {
      "left" : "case CANDIDATE:",
      "right" : "case CANDIDATE:",
      "info" : "SwitchCase[1630-1645]:SwitchCase[1565-1580]"
    }, {
      "left" : "context.transition(CandidateState.class)",
      "right" : "context.transition(CandidateState.class)",
      "info" : "MethodInvocation[1661-1701]:MethodInvocation[1589-1629]"
    }, {
      "left" : "case LEADER:",
      "right" : "case LEADER:",
      "info" : "SwitchCase[1709-1721]:SwitchCase[1652-1664]"
    }, {
      "left" : "context.transition(LeaderState.class)",
      "right" : "context.transition(LeaderState.class)",
      "info" : "MethodInvocation[1737-1774]:MethodInvocation[1673-1710]"
    }, {
      "left" : "default:",
      "right" : "default:",
      "info" : "SwitchCase[1782-1790]:SwitchCase[1733-1741]"
    }, {
      "left" : "throw new IllegalStateException();",
      "right" : "throw new IllegalStateException();",
      "info" : "ThrowStatement[1799-1833]:ThrowStatement[1750-1784]"
    }, {
      "left" : "@Override",
      "right" : "@Override",
      "info" : "MarkerAnnotation[1847-1856]:MarkerAnnotation[1234-1243]"
    }, {
      "left" : "CompletableFuture<AppendResponse>",
      "right" : "CompletableFuture<PollResponse>",
      "info" : "ParameterizedType[1869-1902]:ParameterizedType[1820-1851]"
    }, {
      "left" : "AppendResponse",
      "right" : "PollResponse",
      "info" : "SimpleName[1887-1901]:SimpleName[1838-1850]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1939-2369]:Block[2600-2724]"
    }, {
      "left" : "context.checkThread();",
      "right" : "context.checkThread();",
      "info" : "ExpressionStatement[1945-1967]:ExpressionStatement[1884-1906]"
    }, {
      "left" : "CompletableFuture<AppendResponse> future = CompletableFuture.completedFuture(logResponse(handleAppend(logRequest(request))));",
      "right" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "info" : "VariableDeclarationStatement[1972-2097]:VariableDeclarationStatement[8756-8824]"
    }, {
      "left" : "AppendResponse",
      "right" : "QueryResponse",
      "info" : "SimpleName[1990-2004]:SimpleName[8774-8787]"
    }, {
      "left" : "CompletableFuture.completedFuture(logResponse(handleAppend(logRequest(request))))",
      "right" : "CompletableFuture.completedFuture(logResponse(handleVote(logRequest(request))))",
      "info" : "MethodInvocation[2015-2096]:MethodInvocation[2640-2719]"
    }, {
      "left" : "handleAppend",
      "right" : "handleVote",
      "info" : "SimpleName[2061-2073]:SimpleName[2686-2696]"
    }, {
      "left" : "return future;",
      "right" : "return future;",
      "info" : "ReturnStatement[2351-2365]:ReturnStatement[9829-9843]"
    }, {
      "left" : "private",
      "right" : "protected",
      "info" : "Modifier[2417-2424]:Modifier[2769-2778]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleType[2425-2439]:SimpleType[2779-2791]"
    }, {
      "left" : "handleAppend",
      "right" : "handleVote",
      "info" : "SimpleName[2440-2452]:SimpleName[2792-2802]"
    }, {
      "left" : "AppendRequest",
      "right" : "VoteRequest",
      "info" : "SimpleName[2453-2466]:SimpleName[2803-2814]"
    }, {
      "left" : "AppendRequest request",
      "right" : "VoteRequest request",
      "info" : "SingleVariableDeclaration[2453-2474]:SingleVariableDeclaration[2803-2822]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2476-3643]:Block[2824-5849]"
    }, {
      "left" : "if (request.term() > context.getTerm() || (request.term() == context.getTerm() && context.getLeader() == 0))",
      "right" : "if (request.term() > context.getTerm())",
      "info" : "IfStatement[2647-2870]:IfStatement[2995-3081]"
    }, {
      "left" : "request.term() > context.getTerm()",
      "right" : "request.term() > context.getTerm()",
      "info" : "InfixExpression[2651-2685]:InfixExpression[2999-3033]"
    }, {
      "left" : "request.term()",
      "right" : "request.candidate()",
      "info" : "MethodInvocation[2690-2704]:MethodInvocation[3829-3848]"
    }, {
      "left" : "request.term() == context.getTerm()",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[2690-2725]:InfixExpression[8562-8617]"
    }, {
      "left" : "term",
      "right" : "candidate",
      "info" : "SimpleName[2698-2702]:SimpleName[3837-3846]"
    }, {
      "left" : "==",
      "right" : "<",
      "info" : "INFIX_EXPRESSION_OPERATOR[2705-2707]:INFIX_EXPRESSION_OPERATOR[8591-8592]"
    }, {
      "left" : "getTerm",
      "right" : "getCommitIndex",
      "info" : "SimpleName[2716-2723]:SimpleName[8601-8615]"
    }, {
      "left" : "context.getLeader() == 0",
      "right" : "context.getLeader() == 0",
      "info" : "InfixExpression[2729-2753]:InfixExpression[7963-7987]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2756-2870]:Block[3035-3081]"
    }, {
      "left" : "context.setTerm(request.term());",
      "right" : "context.setTerm(request.term());",
      "info" : "ExpressionStatement[2764-2796]:ExpressionStatement[3043-3075]"
    }, {
      "left" : "context",
      "right" : "context",
      "info" : "METHOD_INVOCATION_RECEIVER[2803-2810]:METHOD_INVOCATION_RECEIVER[3896-3903]"
    }, {
      "left" : "context.setLeader(request.leader());",
      "right" : "context.setLastVotedFor(request.candidate());",
      "info" : "ExpressionStatement[2803-2839]:ExpressionStatement[5071-5116]"
    }, {
      "left" : "setLeader",
      "right" : "setLastVotedFor",
      "info" : "SimpleName[2811-2820]:SimpleName[5079-5094]"
    }, {
      "left" : "leader",
      "right" : "candidate",
      "info" : "SimpleName[2829-2835]:SimpleName[5103-5112]"
    }, {
      "left" : "if (request.term() < context.getTerm())",
      "right" : "if (request.term() < context.getTerm())",
      "info" : "IfStatement[3061-3639]:IfStatement[3277-5845]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3101-3475]:Block[3317-3614]"
    }, {
      "left" : "LOGGER.warn(\"{} - Rejected {}: request term is less than the current term ({})\", context.getCluster().member().id(), request, context.getTerm());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's term is less than the current term\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[3109-3254]:ExpressionStatement[3325-3451]"
    }, {
      "left" : "warn",
      "right" : "debug",
      "info" : "SimpleName[3116-3120]:SimpleName[3332-3337]"
    }, {
      "left" : "\"{} - Rejected {}: request term is less than the current term ({})\"",
      "right" : "\"{} - Rejected {}: candidate's term is less than the current term\"",
      "info" : "StringLiteral[3121-3188]:StringLiteral[3338-3404]"
    }, {
      "left" : "context.getTerm()",
      "right" : "context.getContext()",
      "info" : "MethodInvocation[3235-3252]:MethodInvocation[9802-9822]"
    }, {
      "left" : "getTerm",
      "right" : "getContext",
      "info" : "SimpleName[3243-3250]:SimpleName[9810-9820]"
    }, {
      "left" : "return AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[3261-3469]:ReturnStatement[3458-3608]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleName[3268-3282]:SimpleName[3465-3477]"
    }, {
      "left" : "AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())",
      "right" : "VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build()",
      "info" : "MethodInvocation[3268-3451]:MethodInvocation[3465-3607]"
    }, {
      "left" : "withSucceeded",
      "right" : "withVoted",
      "info" : "SimpleName[3379-3392]:SimpleName[3574-3583]"
    }, {
      "left" : "withLogIndex",
      "right" : "build",
      "info" : "SimpleName[3409-3421]:SimpleName[3600-3605]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[3422-3450]:MethodInvocation[6432-6460]"
    }, {
      "left" : "if (request.logIndex() != 0 && request.logTerm() != 0)",
      "right" : "if (request.query().consistency() == ConsistencyLevel.SERIALIZABLE)",
      "info" : "IfStatement[3481-3639]:IfStatement[7653-7818]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[3485-3503]:MethodInvocation[2124-2142]"
    }, {
      "left" : "&&",
      "right" : "==",
      "info" : "INFIX_EXPRESSION_OPERATOR[3509-3511]:INFIX_EXPRESSION_OPERATOR[7687-7689]"
    }, {
      "left" : "request.logTerm()",
      "right" : "request.logTerm()",
      "info" : "MethodInvocation[3512-3529]:MethodInvocation[2144-2161]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3536-3587]:Block[7721-7769]"
    }, {
      "left" : "return doCheckPreviousEntry(request);",
      "right" : "return querySerializable(request);",
      "info" : "ReturnStatement[3544-3581]:ReturnStatement[7729-7763]"
    }, {
      "left" : "doCheckPreviousEntry",
      "right" : "querySerializable",
      "info" : "SimpleName[3551-3571]:SimpleName[7736-7753]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3593-3639]:Block[7775-7818]"
    }, {
      "left" : "return doAppendEntries(request);",
      "right" : "return queryForward(request);",
      "info" : "ReturnStatement[3601-3633]:ReturnStatement[7783-7812]"
    }, {
      "left" : "doAppendEntries",
      "right" : "queryForward",
      "info" : "SimpleName[3608-3623]:SimpleName[7790-7802]"
    }, {
      "left" : "private",
      "right" : "protected",
      "info" : "Modifier[3711-3718]:Modifier[2769-2778]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleType[3719-3733]:SimpleType[2779-2791]"
    }, {
      "left" : "doCheckPreviousEntry",
      "right" : "handleVote",
      "info" : "SimpleName[3734-3754]:SimpleName[2792-2802]"
    }, {
      "left" : "AppendRequest",
      "right" : "VoteRequest",
      "info" : "SimpleName[3755-3768]:SimpleName[2803-2814]"
    }, {
      "left" : "AppendRequest request",
      "right" : "VoteRequest request",
      "info" : "SingleVariableDeclaration[3755-3776]:SingleVariableDeclaration[2803-2822]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3778-5572]:Block[2824-5849]"
    }, {
      "left" : "if (request.logIndex() != 0 && context.getLog().isEmpty())",
      "right" : "if (context.getLog().isEmpty())",
      "info" : "IfStatement[3784-4818]:IfStatement[6084-7385]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[3788-3806]:MethodInvocation[2124-2142]"
    }, {
      "left" : "context.getLog().isEmpty()",
      "right" : "context.getLog().isEmpty()",
      "info" : "MethodInvocation[3815-3841]:MethodInvocation[6088-6114]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3843-4268]:Block[2102-2516]"
    }, {
      "left" : "LOGGER.warn(\"{} - Rejected {}: Previous index ({}) is greater than the local log's last index ({})\", context.getCluster().member().id(), request, request.logIndex(), context.getLog().lastIndex());",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[3851-4047]:ExpressionStatement[6124-6233]"
    }, {
      "left" : "LOGGER",
      "right" : "LOGGER",
      "info" : "METHOD_INVOCATION_RECEIVER[3851-3857]:METHOD_INVOCATION_RECEIVER[8627-8633]"
    }, {
      "left" : "warn",
      "right" : "debug",
      "info" : "SimpleName[3858-3862]:SimpleName[6131-6136]"
    }, {
      "left" : "\"{} - Rejected {}: Previous index ({}) is greater than the local log's last index ({})\"",
      "right" : "\"{} - Accepted {}: candidate's log is up-to-date\"",
      "info" : "StringLiteral[3863-3950]:StringLiteral[6137-6186]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[3997-4015]:MethodInvocation[2124-2142]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[4017-4045]:MethodInvocation[6432-6460]"
    }, {
      "left" : "return AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())\n        .build();",
      "right" : "return PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(true)\n        .build();",
      "info" : "ReturnStatement[4054-4262]:ReturnStatement[2181-2333]"
    }, {
      "left" : "AppendResponse",
      "right" : "PollResponse",
      "info" : "SimpleName[4061-4075]:SimpleName[2188-2200]"
    }, {
      "left" : "AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())",
      "right" : "PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(true)\n        .build()",
      "info" : "MethodInvocation[4061-4244]:MethodInvocation[2188-2332]"
    }, {
      "left" : "withSucceeded",
      "right" : "withAccepted",
      "info" : "SimpleName[4172-4185]:SimpleName[2297-2309]"
    }, {
      "left" : "false",
      "right" : "false",
      "info" : "METHOD_INVOCATION_ARGUMENTS[4186-4191]:METHOD_INVOCATION_ARGUMENTS[2482-2487]"
    }, {
      "left" : "withLogIndex",
      "right" : "build",
      "info" : "SimpleName[4202-4214]:SimpleName[2325-2330]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[4215-4243]:MethodInvocation[6432-6460]"
    }, {
      "left" : "if (request.logIndex() != 0 && context.getLog().lastIndex() != 0 && request.logIndex() > context.getLog().lastIndex())",
      "right" : "if (request.candidate() == context.getCluster().member().id())",
      "info" : "IfStatement[4274-4818]:IfStatement[3825-5845]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[4278-4296]:MethodInvocation[2124-2142]"
    }, {
      "left" : "context.getLog().lastIndex() != 0",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[4305-4338]:InfixExpression[10141-10196]"
    }, {
      "left" : "!=",
      "right" : "<",
      "info" : "INFIX_EXPRESSION_OPERATOR[4334-4336]:INFIX_EXPRESSION_OPERATOR[10170-10171]"
    }, {
      "left" : "&&",
      "right" : "==",
      "info" : "INFIX_EXPRESSION_OPERATOR[4339-4341]:INFIX_EXPRESSION_OPERATOR[3849-3851]"
    }, {
      "left" : "request.logIndex() > context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[4342-4391]:InfixExpression[8562-8617]"
    }, {
      "left" : "request",
      "right" : "context",
      "info" : "SimpleName[4342-4349]:SimpleName[8593-8600]"
    }, {
      "left" : "logIndex",
      "right" : "getCommitIndex",
      "info" : "SimpleName[4350-4358]:SimpleName[8601-8615]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4393-4818]:Block[3888-4234]"
    }, {
      "left" : "LOGGER.warn(\"{} - Rejected {}: Previous index ({}) is greater than the local log's last index ({})\", context.getCluster().member().id(), request, request.logIndex(), context.getLog().lastIndex());",
      "right" : "context.setLastVotedFor(context.getCluster().member().id());",
      "info" : "ExpressionStatement[4401-4597]:ExpressionStatement[3896-3956]"
    }, {
      "left" : "LOGGER",
      "right" : "LOGGER",
      "info" : "METHOD_INVOCATION_RECEIVER[4401-4407]:METHOD_INVOCATION_RECEIVER[3963-3969]"
    }, {
      "left" : "warn",
      "right" : "setLastVotedFor",
      "info" : "SimpleName[4408-4412]:SimpleName[3904-3919]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[4547-4565]:MethodInvocation[5012-5030]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[4567-4595]:MethodInvocation[6432-6460]"
    }, {
      "left" : "return AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(true)\n        .build();",
      "info" : "ReturnStatement[4604-4812]:ReturnStatement[4079-4228]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleName[4611-4625]:SimpleName[4086-4098]"
    }, {
      "left" : "AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(context.getLog().lastIndex())",
      "right" : "VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(true)\n        .build()",
      "info" : "MethodInvocation[4611-4794]:MethodInvocation[4086-4227]"
    }, {
      "left" : "withSucceeded",
      "right" : "withVoted",
      "info" : "SimpleName[4722-4735]:SimpleName[4195-4204]"
    }, {
      "left" : "false",
      "right" : "false",
      "info" : "METHOD_INVOCATION_ARGUMENTS[4736-4741]:METHOD_INVOCATION_ARGUMENTS[4790-4795]"
    }, {
      "left" : "withLogIndex",
      "right" : "build",
      "info" : "SimpleName[4752-4764]:SimpleName[4220-4225]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[4765-4793]:MethodInvocation[6432-6460]"
    }, {
      "left" : "Entry entry = context.getLog().getEntry(request.logIndex());",
      "right" : "Entry entry = context.getLog().getEntry(lastIndex);",
      "info" : "VariableDeclarationStatement[4921-4981]:VariableDeclarationStatement[6468-6519]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[4961-4979]:MethodInvocation[2124-2142]"
    }, {
      "left" : "entry == null",
      "right" : "entry == null",
      "info" : "InfixExpression[4990-5003]:InfixExpression[6530-6543]"
    }, {
      "left" : "entry.getTerm() != request.logTerm()",
      "right" : "term >= entry.getTerm()",
      "info" : "InfixExpression[5007-5043]:InfixExpression[6753-6776]"
    }, {
      "left" : "!=",
      "right" : ">=",
      "info" : "INFIX_EXPRESSION_OPERATOR[5023-5025]:INFIX_EXPRESSION_OPERATOR[6758-6760]"
    }, {
      "left" : "request.logTerm()",
      "right" : "request.logTerm()",
      "info" : "MethodInvocation[5026-5043]:MethodInvocation[2144-2161]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5045-5516]:Block[3317-3614]"
    }, {
      "left" : "LOGGER.warn(\"{} - Rejected {}: Request log term does not match local log term {} for the same entry\", context.getCluster().member().id(), request, entry.getTerm());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's term is less than the current term\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[5053-5217]:ExpressionStatement[3325-3451]"
    }, {
      "left" : "warn",
      "right" : "debug",
      "info" : "SimpleName[5060-5064]:SimpleName[3332-3337]"
    }, {
      "left" : "\"{} - Rejected {}: Request log term does not match local log term {} for the same entry\"",
      "right" : "\"{} - Rejected {}: candidate's term is less than the current term\"",
      "info" : "StringLiteral[5065-5153]:StringLiteral[3338-3404]"
    }, {
      "left" : "entry.getTerm()",
      "right" : "entry.getTerm()",
      "info" : "MethodInvocation[5200-5215]:MethodInvocation[7101-7116]"
    }, {
      "left" : "return AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(request.logIndex() <= context.getLog().lastIndex() ? request.logIndex() - 1 : context.getLog().lastIndex())\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[5224-5510]:ReturnStatement[3458-3608]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleName[5231-5245]:SimpleName[3465-3477]"
    }, {
      "left" : "AppendResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withSucceeded(false)\n        .withLogIndex(request.logIndex() <= context.getLog().lastIndex() ? request.logIndex() - 1 : context.getLog().lastIndex())",
      "right" : "VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build()",
      "info" : "MethodInvocation[5231-5492]:MethodInvocation[3465-3607]"
    }, {
      "left" : "withSucceeded",
      "right" : "withVoted",
      "info" : "SimpleName[5342-5355]:SimpleName[3574-3583]"
    }, {
      "left" : "withLogIndex",
      "right" : "build",
      "info" : "SimpleName[5372-5384]:SimpleName[3600-3605]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[5385-5403]:MethodInvocation[5012-5030]"
    }, {
      "left" : "request.logIndex() <= context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[5385-5435]:InfixExpression[8562-8617]"
    }, {
      "left" : "request.logIndex()",
      "right" : "request.logIndex()",
      "info" : "MethodInvocation[5438-5456]:MethodInvocation[2124-2142]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[5463-5491]:MethodInvocation[6432-6460]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5522-5568]:Block[7601-7647]"
    }, {
      "left" : "return doAppendEntries(request);",
      "right" : "return querySequential(request);",
      "info" : "ReturnStatement[5530-5562]:ReturnStatement[7609-7641]"
    }, {
      "left" : "doAppendEntries",
      "right" : "querySequential",
      "info" : "SimpleName[5537-5552]:SimpleName[7616-7631]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[5660-5667]:Modifier[5954-5961]"
    }, {
      "left" : "doAppendEntries",
      "right" : "logUpToDate",
      "info" : "SimpleName[5683-5698]:SimpleName[5970-5981]"
    }, {
      "left" : "AppendRequest",
      "right" : "Request",
      "info" : "SimpleName[5699-5712]:SimpleName[6005-6012]"
    }, {
      "left" : "AppendRequest request",
      "right" : "Request request",
      "info" : "SingleVariableDeclaration[5699-5720]:SingleVariableDeclaration[6005-6020]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5722-8299]:Block[2824-5849]"
    }, {
      "left" : "if (!request.entries().isEmpty())",
      "right" : "if (index != 0 && index >= lastIndex)",
      "info" : "IfStatement[5874-7828]:IfStatement[6701-7379]"
    }, {
      "left" : "request.entries().isEmpty()",
      "right" : "request.query().consistency()",
      "info" : "MethodInvocation[5879-5906]:MethodInvocation[7539-7568]"
    }, {
      "left" : "entries",
      "right" : "query",
      "info" : "SimpleName[5887-5894]:SimpleName[7547-7552]"
    }, {
      "left" : "isEmpty",
      "right" : "consistency",
      "info" : "SimpleName[5897-5904]:SimpleName[7555-7566]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5908-7828]:Block[6739-7160]"
    }, {
      "left" : "Entry",
      "right" : "Entry",
      "info" : "SimpleType[5991-5996]:SimpleType[6468-6473]"
    }, {
      "left" : "request.entries()",
      "right" : "request.term()",
      "info" : "MethodInvocation[6005-6022]:MethodInvocation[2999-3013]"
    }, {
      "left" : "entries",
      "right" : "term",
      "info" : "SimpleName[6013-6020]:SimpleName[3007-3011]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6024-7822]:Block[6022-7389]"
    }, {
      "left" : "if (context.getLog().containsIndex(entry.getIndex()))",
      "right" : "if (term >= entry.getTerm())",
      "info" : "IfStatement[6290-7814]:IfStatement[6749-7152]"
    }, {
      "left" : "context.getLog().containsIndex(entry.getIndex())",
      "right" : "context.getLog().isEmpty()",
      "info" : "MethodInvocation[6294-6342]:MethodInvocation[6088-6114]"
    }, {
      "left" : "containsIndex",
      "right" : "isEmpty",
      "info" : "SimpleName[6311-6324]:SimpleName[6105-6112]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.close()",
      "info" : "MethodInvocation[6325-6341]:MethodInvocation[11314-11327]"
    }, {
      "left" : "getIndex",
      "right" : "close",
      "info" : "SimpleName[6331-6339]:SimpleName[11320-11325]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6344-7471]:Block[6264-7385]"
    }, {
      "left" : "Entry match = context.getLog().getEntry(entry.getIndex());",
      "right" : "Entry entry = context.getLog().getEntry(lastIndex);",
      "info" : "VariableDeclarationStatement[6444-6502]:VariableDeclarationStatement[6468-6519]"
    }, {
      "left" : "match",
      "right" : "entry",
      "info" : "SimpleName[6450-6455]:SimpleName[6474-6479]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.getTerm()",
      "info" : "MethodInvocation[6484-6500]:MethodInvocation[7101-7116]"
    }, {
      "left" : "getIndex",
      "right" : "getTerm",
      "info" : "SimpleName[6490-6498]:SimpleName[7107-7114]"
    }, {
      "left" : "if (match != null)",
      "right" : "if (context.getLog().isEmpty())",
      "info" : "IfStatement[6513-7461]:IfStatement[6084-7385]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6532-7206]:Block[5547-5845]"
    }, {
      "left" : "if (entry.getTerm() != match.getTerm())",
      "right" : "if (entry == null)",
      "info" : "IfStatement[6546-7194]:IfStatement[6526-6693]"
    }, {
      "left" : "entry.getTerm() != match.getTerm()",
      "right" : "term >= entry.getTerm()",
      "info" : "InfixExpression[6550-6584]:InfixExpression[6753-6776]"
    }, {
      "left" : "!=",
      "right" : ">=",
      "info" : "INFIX_EXPRESSION_OPERATOR[6566-6568]:INFIX_EXPRESSION_OPERATOR[6758-6760]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6586-7194]:Block[6545-6693]"
    }, {
      "left" : "LOGGER.warn(\"{} - Appended entry term does not match local log, removing incorrect entries\", context.getCluster().member().id());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: already voted for {}\", context.getCluster().member().id(), request, context.getLastVotedFor());",
      "info" : "ExpressionStatement[6809-6938]:ExpressionStatement[5555-5682]"
    }, {
      "left" : "warn",
      "right" : "debug",
      "info" : "SimpleName[6816-6820]:SimpleName[5562-5567]"
    }, {
      "left" : "\"{} - Appended entry term does not match local log, removing incorrect entries\"",
      "right" : "\"{} - Rejected {}: already voted for {}\"",
      "info" : "StringLiteral[6821-6900]:StringLiteral[5568-5608]"
    }, {
      "left" : "context.getLog().truncate(entry.getIndex() - 1)",
      "right" : "context.getLog().getEntry(lastIndex)",
      "info" : "MethodInvocation[6953-7000]:MethodInvocation[6482-6518]"
    }, {
      "left" : "truncate",
      "right" : "getEntry",
      "info" : "SimpleName[6970-6978]:SimpleName[6499-6507]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.getTerm()",
      "info" : "MethodInvocation[6979-6995]:MethodInvocation[7101-7116]"
    }, {
      "left" : "getIndex",
      "right" : "getTerm",
      "info" : "SimpleName[6985-6993]:SimpleName[7107-7114]"
    }, {
      "left" : "context.getLog().appendEntry(entry)",
      "right" : "context.getLog().getEntry(lastIndex)",
      "info" : "MethodInvocation[7016-7051]:MethodInvocation[6482-6518]"
    }, {
      "left" : "appendEntry",
      "right" : "getEntry",
      "info" : "SimpleName[7033-7044]:SimpleName[6499-6507]"
    }, {
      "left" : "entry",
      "right" : "entry",
      "info" : "METHOD_INVOCATION_ARGUMENTS[7045-7050]:METHOD_INVOCATION_ARGUMENTS[9256-9261]"
    }, {
      "left" : "LOGGER.debug(\"{} - Appended {} to log at index {}\", context.getCluster().member().id(), entry, entry.getIndex());",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[7067-7180]:ExpressionStatement[6555-6664]"
    }, {
      "left" : "\"{} - Appended {} to log at index {}\"",
      "right" : "\"{} - Accepted {}: candidate's log is up-to-date\"",
      "info" : "StringLiteral[7080-7117]:StringLiteral[6568-6617]"
    }, {
      "left" : "entry",
      "right" : "request",
      "info" : "SimpleName[7155-7160]:SimpleName[6655-6662]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.getTerm()",
      "info" : "MethodInvocation[7162-7178]:MethodInvocation[7101-7116]"
    }, {
      "left" : "getIndex",
      "right" : "getTerm",
      "info" : "SimpleName[7168-7176]:SimpleName[7107-7114]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[7212-7461]:Block[6938-7152]"
    }, {
      "left" : "context.getLog().truncate(entry.getIndex() - 1)",
      "right" : "context.getLog().createEntry(QueryEntry.class)",
      "info" : "MethodInvocation[7226-7273]:MethodInvocation[10427-10473]"
    }, {
      "left" : "truncate",
      "right" : "createEntry",
      "info" : "SimpleName[7243-7251]:SimpleName[10444-10455]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.getTerm()",
      "info" : "MethodInvocation[7252-7268]:MethodInvocation[7101-7116]"
    }, {
      "left" : "getIndex",
      "right" : "getTerm",
      "info" : "SimpleName[7258-7266]:SimpleName[7107-7114]"
    }, {
      "left" : "context.getLog()",
      "right" : "context.getLog()",
      "info" : "METHOD_INVOCATION_RECEIVER[7287-7303]:METHOD_INVOCATION_RECEIVER[6482-6498]"
    }, {
      "left" : "entry",
      "right" : "entry",
      "info" : "METHOD_INVOCATION_ARGUMENTS[7316-7321]:METHOD_INVOCATION_ARGUMENTS[10790-10795]"
    }, {
      "left" : "LOGGER.debug(\"{} - Appended {} to log at index {}\", context.getCluster().member().id(), entry, entry.getIndex());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's last log term ({}) is in conflict with local log ({})\", context.getCluster().member().id(), request, term, entry.getTerm());",
      "info" : "ExpressionStatement[7336-7449]:ExpressionStatement[6950-7118]"
    }, {
      "left" : "\"{} - Appended {} to log at index {}\"",
      "right" : "\"{} - Rejected {}: candidate's last log term ({}) is in conflict with local log ({})\"",
      "info" : "StringLiteral[7349-7386]:StringLiteral[6963-7048]"
    }, {
      "left" : "entry",
      "right" : "request",
      "info" : "SimpleName[7424-7429]:SimpleName[7086-7093]"
    }, {
      "left" : "getIndex",
      "right" : "getTerm",
      "info" : "SimpleName[7437-7445]:SimpleName[7107-7114]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[7477-7814]:Block[6778-6932]"
    }, {
      "left" : "context.getLog().skip(entry.getIndex() - context.getLog().lastIndex() - 1).appendEntry(entry)",
      "right" : "context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())",
      "info" : "MethodInvocation[7586-7679]:MethodInvocation[8848-8936]"
    }, {
      "left" : "skip",
      "right" : "createEntry",
      "info" : "SimpleName[7603-7607]:SimpleName[8865-8876]"
    }, {
      "left" : "entry.getIndex() - context.getLog().lastIndex() - 1",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[7608-7659]:InfixExpression[8562-8617]"
    }, {
      "left" : "entry",
      "right" : "context",
      "info" : "SimpleName[7608-7613]:SimpleName[8593-8600]"
    }, {
      "left" : "getIndex",
      "right" : "getCommitIndex",
      "info" : "SimpleName[7614-7622]:SimpleName[8601-8615]"
    }, {
      "left" : "appendEntry",
      "right" : "setIndex",
      "info" : "SimpleName[7661-7672]:SimpleName[8902-8910]"
    }, {
      "left" : "entry",
      "right" : "entry",
      "info" : "METHOD_INVOCATION_ARGUMENTS[7673-7678]:METHOD_INVOCATION_ARGUMENTS[9256-9261]"
    }, {
      "left" : "LOGGER.debug(\"{} - Appended {} to log at index {}\", context.getCluster().member().id(), entry, entry.getIndex());",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[7691-7804]:ExpressionStatement[6790-6899]"
    }, {
      "left" : "\"{} - Appended {} to log at index {}\"",
      "right" : "\"{} - Accepted {}: candidate's log is up-to-date\"",
      "info" : "StringLiteral[7704-7741]:StringLiteral[6803-6852]"
    }, {
      "left" : "entry",
      "right" : "request",
      "info" : "SimpleName[7779-7784]:SimpleName[6890-6897]"
    }, {
      "left" : "entry.getIndex()",
      "right" : "entry.close()",
      "info" : "MethodInvocation[7786-7802]:MethodInvocation[9780-9793]"
    }, {
      "left" : "getIndex",
      "right" : "close",
      "info" : "SimpleName[7792-7800]:SimpleName[9786-9791]"
    }, {
      "left" : "context.getContext()",
      "right" : "context.getContext()",
      "info" : "MethodInvocation[7914-7934]:MethodInvocation[9802-9822]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[7949-8090]:Block[3035-3081]"
    }, {
      "left" : "applyCommits(request.commitIndex())\n        .thenRun(() -> applyIndex(request.globalIndex()))\n        .thenRun(request::close);",
      "right" : "context.setTerm(request.term());",
      "info" : "ExpressionStatement[7957-8084]:ExpressionStatement[3043-3075]"
    }, {
      "left" : "request.commitIndex()",
      "right" : "request.version()",
      "info" : "METHOD_INVOCATION_ARGUMENTS[7970-7991]:METHOD_INVOCATION_ARGUMENTS[9037-9054]"
    }, {
      "left" : "commitIndex",
      "right" : "version",
      "info" : "SimpleName[7978-7989]:SimpleName[9045-9052]"
    }, {
      "left" : "applyIndex(request.globalIndex())",
      "right" : "context.setTerm(request.term())",
      "info" : "MethodInvocation[8016-8049]:MethodInvocation[3043-3074]"
    }, {
      "left" : "applyIndex",
      "right" : "setTerm",
      "info" : "SimpleName[8016-8026]:SimpleName[3051-3058]"
    }, {
      "left" : "globalIndex",
      "right" : "term",
      "info" : "SimpleName[8035-8046]:SimpleName[3067-3071]"
    }, {
      "left" : "return AppendResponse.builder()\n      .withStatus(Response.Status.OK)\n      .withTerm(context.getTerm())\n      .withSucceeded(true)\n      .withLogIndex(context.getLog().lastIndex())\n      .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[8098-8295]:ReturnStatement[3458-3608]"
    }, {
      "left" : "AppendResponse",
      "right" : "VoteResponse",
      "info" : "SimpleName[8105-8119]:SimpleName[3465-3477]"
    }, {
      "left" : "AppendResponse.builder()\n      .withStatus(Response.Status.OK)\n      .withTerm(context.getTerm())\n      .withSucceeded(true)\n      .withLogIndex(context.getLog().lastIndex())",
      "right" : "VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build()",
      "info" : "MethodInvocation[8105-8279]:MethodInvocation[3465-3607]"
    }, {
      "left" : "withSucceeded",
      "right" : "withVoted",
      "info" : "SimpleName[8210-8223]:SimpleName[3574-3583]"
    }, {
      "left" : "true",
      "right" : "true",
      "info" : "METHOD_INVOCATION_ARGUMENTS[8224-8228]:METHOD_INVOCATION_ARGUMENTS[2310-2314]"
    }, {
      "left" : "withLogIndex",
      "right" : "build",
      "info" : "SimpleName[8237-8249]:SimpleName[3600-3605]"
    }, {
      "left" : "context.getLog().lastIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[8250-8278]:MethodInvocation[10141-10169]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[8397-8404]:Modifier[5954-5961]"
    }, {
      "left" : "CompletableFuture<Void>",
      "right" : "CompletableFuture<VoteResponse>",
      "info" : "ParameterizedType[8405-8428]:ParameterizedType[2542-2573]"
    }, {
      "left" : "Void",
      "right" : "VoteResponse",
      "info" : "SimpleName[8423-8427]:SimpleName[2560-2572]"
    }, {
      "left" : "applyCommits",
      "right" : "logUpToDate",
      "info" : "SimpleName[8429-8441]:SimpleName[5970-5981]"
    }, {
      "left" : "long commitIndex",
      "right" : "long index",
      "info" : "SingleVariableDeclaration[8442-8458]:SingleVariableDeclaration[5982-5992]"
    }, {
      "left" : "commitIndex",
      "right" : "index",
      "info" : "SimpleName[8447-8458]:SimpleName[5987-5992]"
    }, {
      "left" : "context.getLog().isEmpty()",
      "right" : "context.getLog().isEmpty()",
      "info" : "MethodInvocation[8940-8966]:MethodInvocation[6088-6114]"
    }, {
      "left" : "context.getCommitIndex() == 0",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[8980-9009]:InfixExpression[8562-8617]"
    }, {
      "left" : "commitIndex > context.getCommitIndex()",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[9013-9051]:InfixExpression[10141-10196]"
    }, {
      "left" : ">",
      "right" : "<",
      "info" : "INFIX_EXPRESSION_OPERATOR[9025-9026]:INFIX_EXPRESSION_OPERATOR[10170-10171]"
    }, {
      "left" : "long lastIndex = context.getLog().lastIndex();",
      "right" : "long lastIndex = context.getLog().lastIndex();",
      "info" : "VariableDeclarationStatement[9063-9109]:VariableDeclarationStatement[6415-6461]"
    }, {
      "left" : "int commits = (int) (Math.min(commitIndex, lastIndex) - Math.max(context.getCommitIndex(), context.getLog().firstIndex()));",
      "right" : "Entry entry = context.getLog().getEntry(lastIndex);",
      "info" : "VariableDeclarationStatement[9118-9241]:VariableDeclarationStatement[6468-6519]"
    }, {
      "left" : "commits",
      "right" : "entry",
      "info" : "SimpleName[9122-9129]:SimpleName[6474-6479]"
    }, {
      "left" : "Math",
      "right" : "Math",
      "info" : "METHOD_INVOCATION_RECEIVER[9139-9143]:METHOD_INVOCATION_RECEIVER[9147-9151]"
    }, {
      "left" : "Math.max(context.getCommitIndex(), context.getLog().firstIndex())",
      "right" : "context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())",
      "info" : "MethodInvocation[9174-9239]:MethodInvocation[8848-8936]"
    }, {
      "left" : "Math",
      "right" : "Math",
      "info" : "METHOD_INVOCATION_RECEIVER[9174-9178]:METHOD_INVOCATION_RECEIVER[9147-9151]"
    }, {
      "left" : "max",
      "right" : "setIndex",
      "info" : "SimpleName[9179-9182]:SimpleName[8902-8910]"
    }, {
      "left" : "context.getLog().firstIndex()",
      "right" : "context.getLog().getEntry(lastIndex)",
      "info" : "MethodInvocation[9209-9238]:MethodInvocation[6482-6518]"
    }, {
      "left" : "firstIndex",
      "right" : "getEntry",
      "info" : "SimpleName[9226-9236]:SimpleName[6499-6507]"
    }, {
      "left" : "LOGGER.debug(\"{} - Applying {} commits\", context.getCluster().member().id(), commits);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[9251-9337]:ExpressionStatement[6555-6664]"
    }, {
      "left" : "\"{} - Applying {} commits\"",
      "right" : "\"{} - Accepted {}: candidate's log is up-to-date\"",
      "info" : "StringLiteral[9264-9290]:StringLiteral[6568-6617]"
    }, {
      "left" : "commits",
      "right" : "request",
      "info" : "SimpleName[9328-9335]:SimpleName[6655-6662]"
    }, {
      "left" : "context.getCommitIndex()",
      "right" : "context.getCommitIndex()",
      "info" : "MethodInvocation[9459-9483]:MethodInvocation[10490-10514]"
    }, {
      "left" : "context",
      "right" : "context",
      "info" : "METHOD_INVOCATION_RECEIVER[9525-9532]:METHOD_INVOCATION_RECEIVER[5071-5078]"
    }, {
      "left" : "Math",
      "right" : "Math",
      "info" : "METHOD_INVOCATION_RECEIVER[9548-9552]:METHOD_INVOCATION_RECEIVER[9147-9151]"
    }, {
      "left" : "Math",
      "right" : "Math",
      "info" : "METHOD_INVOCATION_RECEIVER[9557-9561]:METHOD_INVOCATION_RECEIVER[9147-9151]"
    }, {
      "left" : "if (context.getCommitIndex() > previousCommitIndex)",
      "right" : "if (context.getLog().isEmpty())",
      "info" : "IfStatement[9818-10840]:IfStatement[6084-7385]"
    }, {
      "left" : "context.getCommitIndex() > previousCommitIndex",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[9822-9868]:InfixExpression[8562-8617]"
    }, {
      "left" : ">",
      "right" : "<",
      "info" : "INFIX_EXPRESSION_OPERATOR[9847-9848]:INFIX_EXPRESSION_OPERATOR[8591-8592]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[9870-10840]:Block[8401-9847]"
    }, {
      "left" : "CompletableFuture<?>",
      "right" : "CompletableFuture<QueryResponse>",
      "info" : "ParameterizedType[10041-10061]:ParameterizedType[8756-8788]"
    }, {
      "left" : "CompletableFuture<?>[] futures = new CompletableFuture[commits];",
      "right" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "info" : "VariableDeclarationStatement[10041-10105]:VariableDeclarationStatement[8756-8824]"
    }, {
      "left" : "futures",
      "right" : "future",
      "info" : "SimpleName[10064-10071]:SimpleName[8789-8795]"
    }, {
      "left" : "CompletableFuture",
      "right" : "CompletableFuture",
      "info" : "SimpleType[10078-10095]:SimpleType[8802-8819]"
    }, {
      "left" : "context.getLog().firstIndex()",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[10189-10218]:MethodInvocation[10141-10169]"
    }, {
      "left" : "firstIndex",
      "right" : "lastIndex",
      "info" : "SimpleName[10206-10216]:SimpleName[10158-10167]"
    }, {
      "left" : "i <= Math.min(context.getCommitIndex(), lastIndex)",
      "right" : "context.getLog().lastIndex() < context.getCommitIndex()",
      "info" : "InfixExpression[10221-10271]:InfixExpression[8562-8617]"
    }, {
      "left" : "<=",
      "right" : "<",
      "info" : "INFIX_EXPRESSION_OPERATOR[10223-10225]:INFIX_EXPRESSION_OPERATOR[8591-8592]"
    }, {
      "left" : "Math",
      "right" : "Math",
      "info" : "METHOD_INVOCATION_RECEIVER[10226-10230]:METHOD_INVOCATION_RECEIVER[9147-9151]"
    }, {
      "left" : "context.getCommitIndex()",
      "right" : "context.getCommitIndex()",
      "info" : "MethodInvocation[10235-10259]:MethodInvocation[8593-8617]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10278-10775]:Block[6022-7389]"
    }, {
      "left" : "Entry",
      "right" : "Entry",
      "info" : "SimpleType[10294-10299]:SimpleType[6468-6473]"
    }, {
      "left" : "context.getLog().getEntry(i)",
      "right" : "context.getLog().lastIndex()",
      "info" : "MethodInvocation[10308-10336]:MethodInvocation[8562-8590]"
    }, {
      "left" : "getEntry",
      "right" : "lastIndex",
      "info" : "SimpleName[10325-10333]:SimpleName[8579-8588]"
    }, {
      "left" : "if (entry != null)",
      "right" : "if (index != 0 && index >= lastIndex)",
      "info" : "IfStatement[10352-10761]:IfStatement[6701-7379]"
    }, {
      "left" : "!=",
      "right" : "&&",
      "info" : "INFIX_EXPRESSION_OPERATOR[10362-10364]:INFIX_EXPRESSION_OPERATOR[6716-6718]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10371-10761]:Block[6264-7385]"
    }, {
      "left" : "futures[j++] = context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n                  if (isOpen() && error != null) {\n                    LOGGER.info(\"{} - An application error occurred: {}\", context.getCluster().member().id(), error);\n                  }\n                  entry.close();\n                }, context.getContext());",
      "right" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext());",
      "info" : "ExpressionStatement[10389-10745]:ExpressionStatement[9224-9824]"
    }, {
      "left" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n                  if (isOpen() && error != null) {\n                    LOGGER.info(\"{} - An application error occurred: {}\", context.getCluster().member().id(), error);\n                  }\n                  entry.close();\n                }, context.getContext())",
      "right" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext())",
      "info" : "MethodInvocation[10404-10744]:MethodInvocation[9224-9823]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10480-10721]:Block[6739-7160]"
    }, {
      "left" : "if (isOpen() && error != null)",
      "right" : "if (term >= entry.getTerm())",
      "info" : "IfStatement[10500-10670]:IfStatement[6749-7152]"
    }, {
      "left" : "isOpen()",
      "right" : "isOpen()",
      "info" : "MethodInvocation[10504-10512]:MethodInvocation[9312-9320]"
    }, {
      "left" : "&&",
      "right" : ">=",
      "info" : "INFIX_EXPRESSION_OPERATOR[10513-10515]:INFIX_EXPRESSION_OPERATOR[6758-6760]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10531-10670]:Block[6778-6932]"
    }, {
      "left" : "LOGGER.info(\"{} - An application error occurred: {}\", context.getCluster().member().id(), error);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[10553-10650]:ExpressionStatement[6790-6899]"
    }, {
      "left" : "LOGGER",
      "right" : "LOGGER",
      "info" : "METHOD_INVOCATION_RECEIVER[10553-10559]:METHOD_INVOCATION_RECEIVER[6950-6956]"
    }, {
      "left" : "info",
      "right" : "debug",
      "info" : "SimpleName[10560-10564]:SimpleName[6797-6802]"
    }, {
      "left" : "\"{} - An application error occurred: {}\"",
      "right" : "\"{} - Accepted {}: candidate's log is up-to-date\"",
      "info" : "StringLiteral[10565-10605]:StringLiteral[6803-6852]"
    }, {
      "left" : "error",
      "right" : "request",
      "info" : "SimpleName[10643-10648]:SimpleName[6890-6897]"
    }, {
      "left" : "entry.close();",
      "right" : "entry.close();",
      "info" : "ExpressionStatement[10689-10703]:ExpressionStatement[9780-9794]"
    }, {
      "left" : "CompletableFuture",
      "right" : "CompletableFuture",
      "info" : "METHOD_INVOCATION_RECEIVER[10795-10812]:METHOD_INVOCATION_RECEIVER[8004-8021]"
    }, {
      "left" : "context",
      "right" : "context",
      "info" : "METHOD_INVOCATION_RECEIVER[10878-10885]:METHOD_INVOCATION_RECEIVER[3043-3050]"
    }, {
      "left" : "CompletableFuture",
      "right" : "CompletableFuture",
      "info" : "METHOD_INVOCATION_RECEIVER[10932-10949]:METHOD_INVOCATION_RECEIVER[2640-2657]"
    }, {
      "left" : "context",
      "right" : "context",
      "info" : "METHOD_INVOCATION_RECEIVER[11114-11121]:METHOD_INVOCATION_RECEIVER[3043-3050]"
    }, {
      "left" : "@Override",
      "right" : "@Override",
      "info" : "MarkerAnnotation[11164-11173]:MarkerAnnotation[1798-1807]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[11176-11185]:Modifier[1810-1819]"
    }, {
      "left" : "CompletableFuture<PollResponse>",
      "right" : "CompletableFuture<PollResponse>",
      "info" : "ParameterizedType[11186-11217]:ParameterizedType[1820-1851]"
    }, {
      "left" : "poll",
      "right" : "poll",
      "info" : "SimpleName[11218-11222]:SimpleName[1852-1856]"
    }, {
      "left" : "PollRequest request",
      "right" : "PollRequest request",
      "info" : "SingleVariableDeclaration[11223-11242]:SingleVariableDeclaration[1857-1876]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11244-11368]:Block[1878-2002]"
    }, {
      "left" : "context.checkThread();",
      "right" : "context.checkThread();",
      "info" : "ExpressionStatement[11250-11272]:ExpressionStatement[1884-1906]"
    }, {
      "left" : "return CompletableFuture.completedFuture(logResponse(handlePoll(logRequest(request))));",
      "right" : "return CompletableFuture.completedFuture(logResponse(handlePoll(logRequest(request))));",
      "info" : "ReturnStatement[11277-11364]:ReturnStatement[1911-1998]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[11413-11422]:Modifier[2047-2056]"
    }, {
      "left" : "PollResponse",
      "right" : "PollResponse",
      "info" : "SimpleType[11423-11435]:SimpleType[2057-2069]"
    }, {
      "left" : "handlePoll",
      "right" : "handlePoll",
      "info" : "SimpleName[11436-11446]:SimpleName[2070-2080]"
    }, {
      "left" : "PollRequest request",
      "right" : "PollRequest request",
      "info" : "SingleVariableDeclaration[11447-11466]:SingleVariableDeclaration[2081-2100]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11468-11882]:Block[2102-2516]"
    }, {
      "left" : "if (logUpToDate(request.logIndex(), request.logTerm(), request))",
      "right" : "if (logUpToDate(request.logIndex(), request.logTerm(), request))",
      "info" : "IfStatement[11474-11878]:IfStatement[2108-2512]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11539-11705]:Block[2173-2339]"
    }, {
      "left" : "return PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(true)\n        .build();",
      "right" : "return PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(true)\n        .build();",
      "info" : "ReturnStatement[11547-11699]:ReturnStatement[2181-2333]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11711-11878]:Block[2345-2512]"
    }, {
      "left" : "return PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(false)\n        .build();",
      "right" : "return PollResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withAccepted(false)\n        .build();",
      "info" : "ReturnStatement[11719-11872]:ReturnStatement[2353-2506]"
    }, {
      "left" : "@Override",
      "right" : "@Override",
      "info" : "MarkerAnnotation[11886-11895]:MarkerAnnotation[2520-2529]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[11898-11907]:Modifier[2532-2541]"
    }, {
      "left" : "CompletableFuture<VoteResponse>",
      "right" : "CompletableFuture<VoteResponse>",
      "info" : "ParameterizedType[11908-11939]:ParameterizedType[2542-2573]"
    }, {
      "left" : "vote",
      "right" : "vote",
      "info" : "SimpleName[11940-11944]:SimpleName[2574-2578]"
    }, {
      "left" : "VoteRequest request",
      "right" : "VoteRequest request",
      "info" : "SingleVariableDeclaration[11945-11964]:SingleVariableDeclaration[2579-2598]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11966-12090]:Block[2600-2724]"
    }, {
      "left" : "context.checkThread();",
      "right" : "context.checkThread();",
      "info" : "ExpressionStatement[11972-11994]:ExpressionStatement[2606-2628]"
    }, {
      "left" : "return CompletableFuture.completedFuture(logResponse(handleVote(logRequest(request))));",
      "right" : "return CompletableFuture.completedFuture(logResponse(handleVote(logRequest(request))));",
      "info" : "ReturnStatement[11999-12086]:ReturnStatement[2633-2720]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[12135-12144]:Modifier[2769-2778]"
    }, {
      "left" : "VoteResponse",
      "right" : "VoteResponse",
      "info" : "SimpleType[12145-12157]:SimpleType[2779-2791]"
    }, {
      "left" : "handleVote",
      "right" : "handleVote",
      "info" : "SimpleName[12158-12168]:SimpleName[2792-2802]"
    }, {
      "left" : "VoteRequest request",
      "right" : "VoteRequest request",
      "info" : "SingleVariableDeclaration[12169-12188]:SingleVariableDeclaration[2803-2822]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12190-15215]:Block[2824-5849]"
    }, {
      "left" : "if (request.term() > context.getTerm())",
      "right" : "if (request.term() > context.getTerm())",
      "info" : "IfStatement[12361-12447]:IfStatement[2995-3081]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12401-12447]:Block[3035-3081]"
    }, {
      "left" : "context.setTerm(request.term());",
      "right" : "context.setTerm(request.term());",
      "info" : "ExpressionStatement[12409-12441]:ExpressionStatement[3043-3075]"
    }, {
      "left" : "if (request.term() < context.getTerm())",
      "right" : "if (request.term() < context.getTerm())",
      "info" : "IfStatement[12643-15211]:IfStatement[3277-5845]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12683-12980]:Block[3317-3614]"
    }, {
      "left" : "LOGGER.debug(\"{} - Rejected {}: candidate's term is less than the current term\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's term is less than the current term\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[12691-12817]:ExpressionStatement[3325-3451]"
    }, {
      "left" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[12824-12974]:ReturnStatement[3458-3608]"
    }, {
      "left" : "if (request.candidate() == context.getCluster().member().id())",
      "right" : "if (request.candidate() == context.getCluster().member().id())",
      "info" : "IfStatement[13191-15211]:IfStatement[3825-5845]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[13254-13600]:Block[3888-4234]"
    }, {
      "left" : "context.setLastVotedFor(context.getCluster().member().id());",
      "right" : "context.setLastVotedFor(context.getCluster().member().id());",
      "info" : "ExpressionStatement[13262-13322]:ExpressionStatement[3896-3956]"
    }, {
      "left" : "LOGGER.debug(\"{} - Accepted {}: candidate is the local member\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate is the local member\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[13329-13438]:ExpressionStatement[3963-4072]"
    }, {
      "left" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(true)\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(true)\n        .build();",
      "info" : "ReturnStatement[13445-13594]:ReturnStatement[4079-4228]"
    }, {
      "left" : "if (!context.getCluster().members().stream().map(Member::id).collect(Collectors.toSet()).contains(request.candidate()))",
      "right" : "if (!context.getCluster().members().stream().map(Member::id).collect(Collectors.toSet()).contains(request.candidate()))",
      "info" : "IfStatement[13773-15211]:IfStatement[4407-5845]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[13893-14186]:Block[4527-4820]"
    }, {
      "left" : "LOGGER.debug(\"{} - Rejected {}: candidate is not known to the local member\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate is not known to the local member\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[13901-14023]:ExpressionStatement[4535-4657]"
    }, {
      "left" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[14030-14180]:ReturnStatement[4664-4814]"
    }, {
      "left" : "if (context.getLastVotedFor() == 0 || context.getLastVotedFor() == request.candidate())",
      "right" : "if (context.getLastVotedFor() == 0 || context.getLastVotedFor() == request.candidate())",
      "info" : "IfStatement[14266-15211]:IfStatement[4900-5845]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[14354-14844]:Block[4988-5478]"
    }, {
      "left" : "if (logUpToDate(request.logIndex(), request.logTerm(), request))",
      "right" : "if (logUpToDate(request.logIndex(), request.logTerm(), request))",
      "info" : "IfStatement[14362-14838]:IfStatement[4996-5472]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[14427-14656]:Block[5061-5290]"
    }, {
      "left" : "context.setLastVotedFor(request.candidate());",
      "right" : "context.setLastVotedFor(request.candidate());",
      "info" : "ExpressionStatement[14437-14482]:ExpressionStatement[5071-5116]"
    }, {
      "left" : "return VoteResponse.builder()\n          .withStatus(Response.Status.OK)\n          .withTerm(context.getTerm())\n          .withVoted(true)\n          .build();",
      "right" : "return VoteResponse.builder()\n          .withStatus(Response.Status.OK)\n          .withTerm(context.getTerm())\n          .withVoted(true)\n          .build();",
      "info" : "ReturnStatement[14491-14648]:ReturnStatement[5125-5282]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[14662-14838]:Block[5296-5472]"
    }, {
      "left" : "return VoteResponse.builder()\n          .withStatus(Response.Status.OK)\n          .withTerm(context.getTerm())\n          .withVoted(false)\n          .build();",
      "right" : "return VoteResponse.builder()\n          .withStatus(Response.Status.OK)\n          .withTerm(context.getTerm())\n          .withVoted(false)\n          .build();",
      "info" : "ReturnStatement[14672-14830]:ReturnStatement[5306-5464]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[14913-15211]:Block[5547-5845]"
    }, {
      "left" : "LOGGER.debug(\"{} - Rejected {}: already voted for {}\", context.getCluster().member().id(), request, context.getLastVotedFor());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: already voted for {}\", context.getCluster().member().id(), request, context.getLastVotedFor());",
      "info" : "ExpressionStatement[14921-15048]:ExpressionStatement[5555-5682]"
    }, {
      "left" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "right" : "return VoteResponse.builder()\n        .withStatus(Response.Status.OK)\n        .withTerm(context.getTerm())\n        .withVoted(false)\n        .build();",
      "info" : "ReturnStatement[15055-15205]:ReturnStatement[5689-5839]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[15320-15327]:Modifier[5954-5961]"
    }, {
      "left" : "boolean",
      "right" : "boolean",
      "info" : "PrimitiveType[15328-15335]:PrimitiveType[5962-5969]"
    }, {
      "left" : "logUpToDate",
      "right" : "logUpToDate",
      "info" : "SimpleName[15336-15347]:SimpleName[5970-5981]"
    }, {
      "left" : "long index",
      "right" : "long index",
      "info" : "SingleVariableDeclaration[15348-15358]:SingleVariableDeclaration[5982-5992]"
    }, {
      "left" : "long term",
      "right" : "long term",
      "info" : "SingleVariableDeclaration[15360-15369]:SingleVariableDeclaration[5994-6003]"
    }, {
      "left" : "Request request",
      "right" : "Request request",
      "info" : "SingleVariableDeclaration[15371-15386]:SingleVariableDeclaration[6005-6020]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[15388-16755]:Block[6022-7389]"
    }, {
      "left" : "if (context.getLog().isEmpty())",
      "right" : "if (context.getLog().isEmpty())",
      "info" : "IfStatement[15450-16751]:IfStatement[6084-7385]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[15482-15624]:Block[6116-6258]"
    }, {
      "left" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[15490-15599]:ExpressionStatement[6124-6233]"
    }, {
      "left" : "return true;",
      "right" : "return true;",
      "info" : "ReturnStatement[15606-15618]:ReturnStatement[6240-6252]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[15630-16751]:Block[6264-7385]"
    }, {
      "left" : "long lastIndex = context.getLog().lastIndex();",
      "right" : "long lastIndex = context.getLog().lastIndex();",
      "info" : "VariableDeclarationStatement[15781-15827]:VariableDeclarationStatement[6415-6461]"
    }, {
      "left" : "Entry entry = context.getLog().getEntry(lastIndex);",
      "right" : "Entry entry = context.getLog().getEntry(lastIndex);",
      "info" : "VariableDeclarationStatement[15834-15885]:VariableDeclarationStatement[6468-6519]"
    }, {
      "left" : "if (entry == null)",
      "right" : "if (entry == null)",
      "info" : "IfStatement[15892-16059]:IfStatement[6526-6693]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[15911-16059]:Block[6545-6693]"
    }, {
      "left" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[15921-16030]:ExpressionStatement[6555-6664]"
    }, {
      "left" : "return true;",
      "right" : "return true;",
      "info" : "ReturnStatement[16039-16051]:ReturnStatement[6673-6685]"
    }, {
      "left" : "if (index != 0 && index >= lastIndex)",
      "right" : "if (index != 0 && index >= lastIndex)",
      "info" : "IfStatement[16067-16745]:IfStatement[6701-7379]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16105-16526]:Block[6739-7160]"
    }, {
      "left" : "if (term >= entry.getTerm())",
      "right" : "if (term >= entry.getTerm())",
      "info" : "IfStatement[16115-16518]:IfStatement[6749-7152]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16144-16298]:Block[6778-6932]"
    }, {
      "left" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "right" : "LOGGER.debug(\"{} - Accepted {}: candidate's log is up-to-date\", context.getCluster().member().id(), request);",
      "info" : "ExpressionStatement[16156-16265]:ExpressionStatement[6790-6899]"
    }, {
      "left" : "return true;",
      "right" : "return true;",
      "info" : "ReturnStatement[16276-16288]:ReturnStatement[6910-6922]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16304-16518]:Block[6938-7152]"
    }, {
      "left" : "LOGGER.debug(\"{} - Rejected {}: candidate's last log term ({}) is in conflict with local log ({})\", context.getCluster().member().id(), request, term, entry.getTerm());",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's last log term ({}) is in conflict with local log ({})\", context.getCluster().member().id(), request, term, entry.getTerm());",
      "info" : "ExpressionStatement[16316-16484]:ExpressionStatement[6950-7118]"
    }, {
      "left" : "return false;",
      "right" : "return false;",
      "info" : "ReturnStatement[16495-16508]:ReturnStatement[7129-7142]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16532-16745]:Block[7166-7379]"
    }, {
      "left" : "LOGGER.debug(\"{} - Rejected {}: candidate's last log entry ({}) is at a lower index than the local log ({})\", context.getCluster().member().id(), request, index, lastIndex);",
      "right" : "LOGGER.debug(\"{} - Rejected {}: candidate's last log entry ({}) is at a lower index than the local log ({})\", context.getCluster().member().id(), request, index, lastIndex);",
      "info" : "ExpressionStatement[16542-16715]:ExpressionStatement[7176-7349]"
    }, {
      "left" : "return false;",
      "right" : "return false;",
      "info" : "ReturnStatement[16724-16737]:ReturnStatement[7358-7371]"
    }, {
      "left" : "@Override",
      "right" : "@Override",
      "info" : "MarkerAnnotation[16759-16768]:MarkerAnnotation[7393-7402]"
    }, {
      "left" : "protected",
      "right" : "protected",
      "info" : "Modifier[16771-16780]:Modifier[7405-7414]"
    }, {
      "left" : "CompletableFuture<QueryResponse>",
      "right" : "CompletableFuture<QueryResponse>",
      "info" : "ParameterizedType[16781-16813]:ParameterizedType[7415-7447]"
    }, {
      "left" : "query",
      "right" : "query",
      "info" : "SimpleName[16814-16819]:SimpleName[7448-7453]"
    }, {
      "left" : "QueryRequest request",
      "right" : "QueryRequest request",
      "info" : "SingleVariableDeclaration[16820-16840]:SingleVariableDeclaration[7454-7474]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16842-17188]:Block[7476-7822]"
    }, {
      "left" : "context.checkThread();",
      "right" : "context.checkThread();",
      "info" : "ExpressionStatement[16848-16870]:ExpressionStatement[7482-7504]"
    }, {
      "left" : "logRequest(request);",
      "right" : "logRequest(request);",
      "info" : "ExpressionStatement[16875-16895]:ExpressionStatement[7509-7529]"
    }, {
      "left" : "if (request.query().consistency() == ConsistencyLevel.SEQUENTIAL)",
      "right" : "if (request.query().consistency() == ConsistencyLevel.SEQUENTIAL)",
      "info" : "IfStatement[16901-17184]:IfStatement[7535-7818]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[16967-17013]:Block[7601-7647]"
    }, {
      "left" : "return querySequential(request);",
      "right" : "return querySequential(request);",
      "info" : "ReturnStatement[16975-17007]:ReturnStatement[7609-7641]"
    }, {
      "left" : "if (request.query().consistency() == ConsistencyLevel.SERIALIZABLE)",
      "right" : "if (request.query().consistency() == ConsistencyLevel.SERIALIZABLE)",
      "info" : "IfStatement[17019-17184]:IfStatement[7653-7818]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17087-17135]:Block[7721-7769]"
    }, {
      "left" : "return querySerializable(request);",
      "right" : "return querySerializable(request);",
      "info" : "ReturnStatement[17095-17129]:ReturnStatement[7729-7763]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17141-17184]:Block[7775-7818]"
    }, {
      "left" : "return queryForward(request);",
      "right" : "return queryForward(request);",
      "info" : "ReturnStatement[17149-17178]:ReturnStatement[7783-7812]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[17243-17250]:Modifier[7877-7884]"
    }, {
      "left" : "CompletableFuture<QueryResponse>",
      "right" : "CompletableFuture<QueryResponse>",
      "info" : "ParameterizedType[17251-17283]:ParameterizedType[7885-7917]"
    }, {
      "left" : "queryForward",
      "right" : "queryForward",
      "info" : "SimpleName[17284-17296]:SimpleName[7918-7930]"
    }, {
      "left" : "QueryRequest request",
      "right" : "QueryRequest request",
      "info" : "SingleVariableDeclaration[17297-17317]:SingleVariableDeclaration[7931-7951]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17319-17638]:Block[7953-8272]"
    }, {
      "left" : "if (context.getLeader() == 0)",
      "right" : "if (context.getLeader() == 0)",
      "info" : "IfStatement[17325-17559]:IfStatement[7959-8193]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17355-17559]:Block[7989-8193]"
    }, {
      "left" : "return CompletableFuture.completedFuture(logResponse(QueryResponse.builder()\n        .withStatus(Response.Status.ERROR)\n        .withError(RaftError.Type.NO_LEADER_ERROR)\n        .build()));",
      "right" : "return CompletableFuture.completedFuture(logResponse(QueryResponse.builder()\n        .withStatus(Response.Status.ERROR)\n        .withError(RaftError.Type.NO_LEADER_ERROR)\n        .build()));",
      "info" : "ReturnStatement[17363-17553]:ReturnStatement[7997-8187]"
    }, {
      "left" : "return context.getCluster().member(context.getLeader()).send(request);",
      "right" : "return context.getCluster().member(context.getLeader()).send(request);",
      "info" : "ReturnStatement[17564-17634]:ReturnStatement[8198-8268]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[17688-17695]:Modifier[8322-8329]"
    }, {
      "left" : "CompletableFuture<QueryResponse>",
      "right" : "CompletableFuture<QueryResponse>",
      "info" : "ParameterizedType[17696-17728]:ParameterizedType[8330-8362]"
    }, {
      "left" : "querySequential",
      "right" : "querySequential",
      "info" : "SimpleName[17729-17744]:SimpleName[8363-8378]"
    }, {
      "left" : "QueryRequest request",
      "right" : "QueryRequest request",
      "info" : "SingleVariableDeclaration[17745-17765]:SingleVariableDeclaration[8379-8399]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17767-19213]:Block[8401-9847]"
    }, {
      "left" : "if (context.getLog().lastIndex() < context.getCommitIndex())",
      "right" : "if (context.getLog().lastIndex() < context.getCommitIndex())",
      "info" : "IfStatement[17924-18116]:IfStatement[8558-8750]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[17985-18116]:Block[8619-8750]"
    }, {
      "left" : "LOGGER.debug(\"{} - State appears to be out of sync, forwarding query to leader\");",
      "right" : "LOGGER.debug(\"{} - State appears to be out of sync, forwarding query to leader\");",
      "info" : "ExpressionStatement[17993-18074]:ExpressionStatement[8627-8708]"
    }, {
      "left" : "return queryForward(request);",
      "right" : "return queryForward(request);",
      "info" : "ReturnStatement[18081-18110]:ReturnStatement[8715-8744]"
    }, {
      "left" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "right" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "info" : "VariableDeclarationStatement[18122-18190]:VariableDeclarationStatement[8756-8824]"
    }, {
      "left" : "QueryEntry entry = context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())\n      .setTerm(context.getTerm())\n      .setTimestamp(System.currentTimeMillis())\n      .setVersion(request.version())\n      .setSession(request.session())\n      .setQuery(request.query());",
      "right" : "QueryEntry entry = context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())\n      .setTerm(context.getTerm())\n      .setTimestamp(System.currentTimeMillis())\n      .setVersion(request.version())\n      .setSession(request.session())\n      .setQuery(request.query());",
      "info" : "VariableDeclarationStatement[18195-18492]:VariableDeclarationStatement[8829-9126]"
    }, {
      "left" : "long version = Math.max(context.getStateMachine().getLastApplied(), request.version());",
      "right" : "long version = Math.max(context.getStateMachine().getLastApplied(), request.version());",
      "info" : "VariableDeclarationStatement[18498-18585]:VariableDeclarationStatement[9132-9219]"
    }, {
      "left" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext());",
      "right" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext());",
      "info" : "ExpressionStatement[18590-19190]:ExpressionStatement[9224-9824]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[18666-19166]:Block[9300-9800]"
    }, {
      "left" : "if (isOpen())",
      "right" : "if (isOpen())",
      "info" : "IfStatement[18674-19139]:IfStatement[9308-9773]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[18688-19139]:Block[9322-9773]"
    }, {
      "left" : "if (error == null)",
      "right" : "if (error == null)",
      "info" : "IfStatement[18698-19131]:IfStatement[9332-9765]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[18717-18924]:Block[9351-9558]"
    }, {
      "left" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));",
      "right" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));",
      "info" : "ExpressionStatement[18729-18914]:ExpressionStatement[9363-9548]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[18930-19131]:Block[9564-9765]"
    }, {
      "left" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));",
      "right" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));",
      "info" : "ExpressionStatement[18942-19121]:ExpressionStatement[9576-9755]"
    }, {
      "left" : "entry.close();",
      "right" : "entry.close();",
      "info" : "ExpressionStatement[19146-19160]:ExpressionStatement[9780-9794]"
    }, {
      "left" : "return future;",
      "right" : "return future;",
      "info" : "ReturnStatement[19195-19209]:ReturnStatement[9829-9843]"
    }, {
      "left" : "private",
      "right" : "private",
      "info" : "Modifier[19265-19272]:Modifier[9899-9906]"
    }, {
      "left" : "CompletableFuture<QueryResponse>",
      "right" : "CompletableFuture<QueryResponse>",
      "info" : "ParameterizedType[19273-19305]:ParameterizedType[9907-9939]"
    }, {
      "left" : "querySerializable",
      "right" : "querySerializable",
      "info" : "SimpleName[19306-19323]:SimpleName[9940-9957]"
    }, {
      "left" : "QueryRequest request",
      "right" : "QueryRequest request",
      "info" : "SingleVariableDeclaration[19324-19344]:SingleVariableDeclaration[9958-9978]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[19346-20747]:Block[9980-11381]"
    }, {
      "left" : "if (context.getLog().lastIndex() < context.getCommitIndex())",
      "right" : "if (context.getLog().lastIndex() < context.getCommitIndex())",
      "info" : "IfStatement[19503-19695]:IfStatement[10137-10329]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[19564-19695]:Block[10198-10329]"
    }, {
      "left" : "LOGGER.debug(\"{} - State appears to be out of sync, forwarding query to leader\");",
      "right" : "LOGGER.debug(\"{} - State appears to be out of sync, forwarding query to leader\");",
      "info" : "ExpressionStatement[19572-19653]:ExpressionStatement[10206-10287]"
    }, {
      "left" : "return queryForward(request);",
      "right" : "return queryForward(request);",
      "info" : "ReturnStatement[19660-19689]:ReturnStatement[10294-10323]"
    }, {
      "left" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "right" : "CompletableFuture<QueryResponse> future = new CompletableFuture<>();",
      "info" : "VariableDeclarationStatement[19701-19769]:VariableDeclarationStatement[10335-10403]"
    }, {
      "left" : "QueryEntry entry = context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())\n      .setTerm(context.getTerm())\n      .setTimestamp(System.currentTimeMillis())\n      .setVersion(0)\n      .setSession(request.session())\n      .setQuery(request.query());",
      "right" : "QueryEntry entry = context.getLog().createEntry(QueryEntry.class)\n      .setIndex(context.getCommitIndex())\n      .setTerm(context.getTerm())\n      .setTimestamp(System.currentTimeMillis())\n      .setVersion(0)\n      .setSession(request.session())\n      .setQuery(request.query());",
      "info" : "VariableDeclarationStatement[19774-20055]:VariableDeclarationStatement[10408-10689]"
    }, {
      "left" : "long version = context.getStateMachine().getLastApplied();",
      "right" : "long version = context.getStateMachine().getLastApplied();",
      "info" : "VariableDeclarationStatement[20061-20119]:VariableDeclarationStatement[10695-10753]"
    }, {
      "left" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext());",
      "right" : "context.getStateMachine().apply(entry).whenCompleteAsync((result, error) -> {\n      if (isOpen()) {\n        if (error == null) {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));\n        } else {\n          future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));\n        }\n      }\n      entry.close();\n    }, context.getContext());",
      "info" : "ExpressionStatement[20124-20724]:ExpressionStatement[10758-11358]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[20200-20700]:Block[10834-11334]"
    }, {
      "left" : "if (isOpen())",
      "right" : "if (isOpen())",
      "info" : "IfStatement[20208-20673]:IfStatement[10842-11307]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[20222-20673]:Block[10856-11307]"
    }, {
      "left" : "if (error == null)",
      "right" : "if (error == null)",
      "info" : "IfStatement[20232-20665]:IfStatement[10866-11299]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[20251-20458]:Block[10885-11092]"
    }, {
      "left" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));",
      "right" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.OK)\n            .withVersion(version)\n            .withResult(result)\n            .build()));",
      "info" : "ExpressionStatement[20263-20448]:ExpressionStatement[10897-11082]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[20464-20665]:Block[11098-11299]"
    }, {
      "left" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));",
      "right" : "future.complete(logResponse(QueryResponse.builder()\n            .withStatus(Response.Status.ERROR)\n            .withError(RaftError.Type.APPLICATION_ERROR)\n            .build()));",
      "info" : "ExpressionStatement[20476-20655]:ExpressionStatement[11110-11289]"
    }, {
      "left" : "entry.close();",
      "right" : "entry.close();",
      "info" : "ExpressionStatement[20680-20694]:ExpressionStatement[11314-11328]"
    }, {
      "left" : "return future;",
      "right" : "return future;",
      "info" : "ReturnStatement[20729-20743]:ReturnStatement[11363-11377]"
    } ]
  },
  "interFileMappings" : { }
}