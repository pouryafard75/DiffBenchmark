{
  "intraFileMappings" : {
    "matchedElements" : [
 {
      "left" : "RunIdeConsoleAction",
      "right" : "RunIdeConsoleAction",
      "info" : "TypeDeclaration[2598-13623]:TypeDeclaration[2513-12306]"
    }, {
      "left" : "private static final String DEFAULT_FILE_NAME = \"ide-scripting\";",
      "right" : "private static final String DEFAULT_FILE_NAME = \"ide-scripting\";",
      "info" : "FieldDeclaration[2729-2793]:FieldDeclaration[2600-2664]"
    }, {
      "left" : "private static final Key<WeakReference<RunContentDescriptor>> DESCRIPTOR_KEY = Key.create(\"DESCRIPTOR_KEY\");",
      "right" : "private static final Key<WeakReference<RunContentDescriptor>> DESCRIPTOR_KEY = Key.create(\"DESCRIPTOR_KEY\");",
      "info" : "FieldDeclaration[2797-2905]:FieldDeclaration[2668-2776]"
    }, {
      "left" : "private static final Logger LOG = Logger.getInstance(RunIdeConsoleAction.class);",
      "right" : "private static final Logger LOG = Logger.getInstance(RunIdeConsoleAction.class);",
      "info" : "FieldDeclaration[2908-2988]:FieldDeclaration[2779-2859]"
    }, {
      "left" : "public void update(AnActionEvent e)",
      "right" : "public void update(AnActionEvent e)",
      "info" : "MethodDeclaration[2992-3278]:MethodDeclaration[2863-3149]"
    }, {
      "left" : "public void actionPerformed(AnActionEvent e)",
      "right" : "public void actionPerformed(AnActionEvent e)",
      "info" : "MethodDeclaration[3282-4180]:MethodDeclaration[3153-4051]"
    }, {
      "left" : "public AnAction fun(final String language)",
      "right" : "public AnAction fun(final String language)",
      "info" : "MethodDeclaration[3669-3956]:MethodDeclaration[3540-3827]"
    }, {
      "left" : "public void actionPerformed(@NotNull AnActionEvent e)",
      "right" : "public void actionPerformed(@NotNull AnActionEvent e)",
      "info" : "MethodDeclaration[3803-3933]:MethodDeclaration[3674-3804]"
    }, {
      "left" : "protected void runConsole(@NotNull AnActionEvent e, @NotNull String language)",
      "right" : "protected void runConsole(@NotNull AnActionEvent e, @NotNull String language)",
      "info" : "MethodDeclaration[4184-4869]:MethodDeclaration[4055-4740]"
    }, {
      "left" : "public static void configureConsole(@NotNull VirtualFile file, @NotNull FileEditorManager source)",
      "right" : "public static void configureConsole(@NotNull VirtualFile file, @NotNull FileEditorManager source)",
      "info" : "MethodDeclaration[4873-5300]:MethodDeclaration[4744-5171]"
    }, {
      "left" : "private static void executeQuery(@NotNull Project project,\n                                   @NotNull VirtualFile file,\n                                   @NotNull Editor editor,\n                                   @NotNull IdeScriptEngine engine)",
      "right" : "private static void executeQuery(@NotNull Project project,\n                                   @NotNull VirtualFile file,\n                                   @NotNull Editor editor,\n                                   @NotNull IdeScriptEngine engine)",
      "info" : "MethodDeclaration[5304-7181]:MethodDeclaration[5175-7052]"
    }, {
      "left" : "private static void selectContent(RunContentDescriptor descriptor)",
      "right" : "private static void selectContent(RunContentDescriptor descriptor)",
      "info" : "MethodDeclaration[7185-7558]:MethodDeclaration[7056-7429]"
    }, {
      "left" : "private static RunContentDescriptor getConsoleView(@NotNull Project project, @NotNull VirtualFile file, @NotNull IdeScriptEngine engine)",
      "right" : "private static RunContentDescriptor getConsoleView(@NotNull Project project, @NotNull VirtualFile file, @NotNull IdeScriptEngine engine)",
      "info" : "MethodDeclaration[7562-8283]:MethodDeclaration[7433-8174]"
    }, {
      "left" : "private static RunContentDescriptor createConsoleView(@NotNull Project project, @NotNull IdeScriptEngine engine, @NotNull PsiFile psiFile)",
      "right" : "private static RunContentDescriptor createConsoleView(@NotNull Project project, @NotNull IdeScriptEngine engine, @NotNull PsiFile psiFile)",
      "info" : "MethodDeclaration[8287-9588]:MethodDeclaration[8178-9479]"
    }, {
      "left" : "public boolean isContentReuseProhibited()",
      "right" : "public boolean isContentReuseProhibited()",
      "info" : "MethodDeclaration[9095-9183]:MethodDeclaration[8986-9074]"
    }, {
      "left" : "MyRunAction",
      "right" : "MyRunAction",
      "info" : "TypeDeclaration[9841-11109]:TypeDeclaration[9483-10751]"
    }, {
      "left" : "private IdeScriptEngine engine;",
      "right" : "private IdeScriptEngine engine;",
      "info" : "FieldDeclaration[9905-9936]:FieldDeclaration[9547-9578]"
    }, {
      "left" : "public void update(AnActionEvent e)",
      "right" : "public void update(AnActionEvent e)",
      "info" : "MethodDeclaration[9942-10307]:MethodDeclaration[9584-9949]"
    }, {
      "left" : "public void actionPerformed(AnActionEvent e)",
      "right" : "public void actionPerformed(AnActionEvent e)",
      "info" : "MethodDeclaration[10313-11105]:MethodDeclaration[9955-10747]"
    }, {
      "left" : "ScriptEngineOutputHandler",
      "right" : "ScriptEngineOutputHandler",
      "info" : "TypeDeclaration[11113-12662]:TypeDeclaration[10755-12304]"
    }, {
      "left" : "private WeakReference<RunContentDescriptor> myDescriptor;",
      "right" : "private WeakReference<RunContentDescriptor> myDescriptor;",
      "info" : "FieldDeclaration[11224-11281]:FieldDeclaration[10866-10923]"
    }, {
      "left" : "private ConsoleWriter myStdOutWriter = new ConsoleWriter(ConsoleViewContentType.NORMAL_OUTPUT);",
      "right" : "private ConsoleWriter myStdOutWriter = new ConsoleWriter(ConsoleViewContentType.NORMAL_OUTPUT);",
      "info" : "FieldDeclaration[11287-11382]:FieldDeclaration[10929-11024]"
    }, {
      "left" : "private ConsoleWriter myStdErrWriter = new ConsoleWriter(ConsoleViewContentType.ERROR_OUTPUT);",
      "right" : "private ConsoleWriter myStdErrWriter = new ConsoleWriter(ConsoleViewContentType.ERROR_OUTPUT);",
      "info" : "FieldDeclaration[11387-11481]:FieldDeclaration[11029-11123]"
    }, {
      "left" : "public ScriptEngineOutputHandler(@NotNull RunContentDescriptor descriptor)",
      "right" : "public ScriptEngineOutputHandler(@NotNull RunContentDescriptor descriptor)",
      "info" : "MethodDeclaration[11487-11643]:MethodDeclaration[11129-11285]"
    }, {
      "left" : "public void installOn(@NotNull IdeScriptEngine engine)",
      "right" : "public void installOn(@NotNull IdeScriptEngine engine)",
      "info" : "MethodDeclaration[11649-11791]:MethodDeclaration[11291-11433]"
    }, {
      "left" : "ConsoleWriter",
      "right" : "ConsoleWriter",
      "info" : "TypeDeclaration[11797-12658]:TypeDeclaration[11439-12300]"
    }, {
      "left" : "private final ConsoleViewContentType myOutputType;",
      "right" : "private final ConsoleViewContentType myOutputType;",
      "info" : "FieldDeclaration[11848-11898]:FieldDeclaration[11490-11540]"
    }, {
      "left" : "private ConsoleWriter(ConsoleViewContentType outputType)",
      "right" : "private ConsoleWriter(ConsoleViewContentType outputType)",
      "info" : "MethodDeclaration[11906-12007]:MethodDeclaration[11548-11649]"
    }, {
      "left" : "public void write(char[] cbuf, int off, int len) throws IOException",
      "right" : "public void write(char[] cbuf, int off, int len) throws IOException",
      "info" : "MethodDeclaration[12015-12508]:MethodDeclaration[11657-12150]"
    }, {
      "left" : "public void flush() throws IOException",
      "right" : "public void flush() throws IOException",
      "info" : "MethodDeclaration[12516-12580]:MethodDeclaration[12158-12222]"
    }, {
      "left" : "public void close() throws IOException",
      "right" : "public void close() throws IOException",
      "info" : "MethodDeclaration[12588-12652]:MethodDeclaration[12230-12294]"
    } ],
    "mappings" : [
 {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3040-3278]:Block[2911-3149]"
    }, {
      "left" : "IdeScriptEngineManager manager = IdeScriptEngineManager.getInstance();",
      "right" : "IdeScriptEngineManager manager = IdeScriptEngineManager.getInstance();",
      "info" : "VariableDeclarationStatement[3046-3116]:VariableDeclarationStatement[2917-2987]"
    }, {
      "left" : "e.getPresentation().setVisible(e.getProject() != null);",
      "right" : "e.getPresentation().setVisible(e.getProject() != null);",
      "info" : "ExpressionStatement[3121-3176]:ExpressionStatement[2992-3047]"
    }, {
      "left" : "e.getPresentation().setEnabled(manager.isInitialized() && !manager.getLanguages().isEmpty());",
      "right" : "e.getPresentation().setEnabled(manager.isInitialized() && !manager.getLanguages().isEmpty());",
      "info" : "ExpressionStatement[3181-3274]:ExpressionStatement[3052-3145]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3339-4180]:Block[3210-4051]"
    }, {
      "left" : "List<String> languages = IdeScriptEngineManager.getInstance().getLanguages();",
      "right" : "List<String> languages = IdeScriptEngineManager.getInstance().getLanguages();",
      "info" : "VariableDeclarationStatement[3345-3422]:VariableDeclarationStatement[3216-3293]"
    }, {
      "left" : "if (languages.size() == 1)",
      "right" : "if (languages.size() == 1)",
      "info" : "IfStatement[3427-3525]:IfStatement[3298-3396]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3454-3525]:Block[3325-3396]"
    }, {
      "left" : "runConsole(e, languages.iterator().next());",
      "right" : "runConsole(e, languages.iterator().next());",
      "info" : "ExpressionStatement[3462-3505]:ExpressionStatement[3333-3376]"
    }, {
      "left" : "return;",
      "right" : "return;",
      "info" : "ReturnStatement[3512-3519]:ReturnStatement[3383-3390]"
    }, {
      "left" : "DefaultActionGroup actions = new DefaultActionGroup(\n      ContainerUtil.map(languages, new NotNullFunction<String, AnAction>() {\n        @NotNull\n        @Override\n        public AnAction fun(final String language) {\n          return new AnAction(language) {\n            @Override\n            public void actionPerformed(@NotNull AnActionEvent e) {\n              runConsole(e, language);\n            }\n          };\n        }\n      })\n    );",
      "right" : "DefaultActionGroup actions = new DefaultActionGroup(\n      ContainerUtil.map(languages, new NotNullFunction<String, AnAction>() {\n        @NotNull\n        @Override\n        public AnAction fun(final String language) {\n          return new AnAction(language) {\n            @Override\n            public void actionPerformed(@NotNull AnActionEvent e) {\n              runConsole(e, language);\n            }\n          };\n        }\n      })\n    );",
      "info" : "VariableDeclarationStatement[3531-3972]:VariableDeclarationStatement[3402-3843]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3747-3956]:Block[3618-3827]"
    }, {
      "left" : "return new AnAction(language) {\n            @Override\n            public void actionPerformed(@NotNull AnActionEvent e) {\n              runConsole(e, language);\n            }\n          };",
      "right" : "return new AnAction(language) {\n            @Override\n            public void actionPerformed(@NotNull AnActionEvent e) {\n              runConsole(e, language);\n            }\n          };",
      "info" : "ReturnStatement[3759-3946]:ReturnStatement[3630-3817]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3879-3933]:Block[3750-3804]"
    }, {
      "left" : "runConsole(e, language);",
      "right" : "runConsole(e, language);",
      "info" : "ExpressionStatement[3895-3919]:ExpressionStatement[3766-3790]"
    }, {
      "left" : "JBPopupFactory.getInstance().createActionGroupPopup(\"Script Engine\", actions, e.getDataContext(), JBPopupFactory.ActionSelectionAid.NUMBERING, false).\n      showInBestPositionFor(e.getDataContext());",
      "right" : "JBPopupFactory.getInstance().createActionGroupPopup(\"Script Engine\", actions, e.getDataContext(), JBPopupFactory.ActionSelectionAid.NUMBERING, false).\n      showInBestPositionFor(e.getDataContext());",
      "info" : "ExpressionStatement[3977-4176]:ExpressionStatement[3848-4047]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4262-4869]:Block[4133-4740]"
    }, {
      "left" : "Project project = e.getProject();",
      "right" : "Project project = e.getProject();",
      "info" : "VariableDeclarationStatement[4268-4301]:VariableDeclarationStatement[4139-4172]"
    }, {
      "left" : "if (project == null)",
      "right" : "if (project == null)",
      "info" : "IfStatement[4306-4334]:IfStatement[4177-4205]"
    }, {
      "left" : "return;",
      "right" : "return;",
      "info" : "ReturnStatement[4327-4334]:ReturnStatement[4198-4205]"
    }, {
      "left" : "List<String> extensions = IdeScriptEngineManager.getInstance().getFileExtensions(language);",
      "right" : "List<String> extensions = IdeScriptEngineManager.getInstance().getFileExtensions(language);",
      "info" : "VariableDeclarationStatement[4340-4431]:VariableDeclarationStatement[4211-4302]"
    }, {
      "left" : "try{...}",
      "right" : "try{...}",
      "info" : "TryStatement[4436-4865]:TryStatement[4307-4736]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4440-4809]:Block[4311-4680]"
    }, {
      "left" : "String pathName = PathUtil.makeFileName(DEFAULT_FILE_NAME, ContainerUtil.getFirstItem(extensions));",
      "right" : "String pathName = PathUtil.makeFileName(DEFAULT_FILE_NAME, ContainerUtil.getFirstItem(extensions));",
      "info" : "VariableDeclarationStatement[4448-4547]:VariableDeclarationStatement[4319-4418]"
    }, {
      "left" : "VirtualFile virtualFile = IdeConsoleRootType.getInstance().findFile(project, pathName, ScratchFileService.Option.create_if_missing);",
      "right" : "VirtualFile virtualFile = IdeConsoleRootType.getInstance().findFile(project, pathName, ScratchFileService.Option.create_if_missing);",
      "info" : "VariableDeclarationStatement[4554-4686]:VariableDeclarationStatement[4425-4557]"
    }, {
      "left" : "if (virtualFile != null)",
      "right" : "if (virtualFile != null)",
      "info" : "IfStatement[4693-4803]:IfStatement[4564-4674]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4718-4803]:Block[4589-4674]"
    }, {
      "left" : "FileEditorManager.getInstance(project).openFile(virtualFile, true);",
      "right" : "FileEditorManager.getInstance(project).openFile(virtualFile, true);",
      "info" : "ExpressionStatement[4728-4795]:ExpressionStatement[4599-4666]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4837-4865]:Block[4708-4736]"
    }, {
      "left" : "LOG.error(ex);",
      "right" : "LOG.error(ex);",
      "info" : "ExpressionStatement[4845-4859]:ExpressionStatement[4716-4730]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4971-5300]:Block[4842-5171]"
    }, {
      "left" : "MyRunAction runAction = new MyRunAction();",
      "right" : "MyRunAction runAction = new MyRunAction();",
      "info" : "VariableDeclarationStatement[4977-5019]:VariableDeclarationStatement[4848-4890]"
    }, {
      "left" : "for (FileEditor fileEditor : source.getEditors(file))",
      "right" : "for (FileEditor fileEditor : source.getEditors(file))",
      "info" : "EnhancedForStatement[5024-5296]:EnhancedForStatement[4895-5167]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5078-5296]:Block[4949-5167]"
    }, {
      "left" : "if (!(fileEditor instanceof TextEditor))",
      "right" : "if (!(fileEditor instanceof TextEditor))",
      "info" : "IfStatement[5086-5136]:IfStatement[4957-5007]"
    }, {
      "left" : "continue;",
      "right" : "continue;",
      "info" : "ContinueStatement[5127-5136]:ContinueStatement[4998-5007]"
    }, {
      "left" : "Editor editor = ((TextEditor)fileEditor).getEditor();",
      "right" : "Editor editor = ((TextEditor)fileEditor).getEditor();",
      "info" : "VariableDeclarationStatement[5143-5196]:VariableDeclarationStatement[5014-5067]"
    }, {
      "left" : "runAction.registerCustomShortcutSet(CommonShortcuts.CTRL_ENTER, editor.getComponent());",
      "right" : "runAction.registerCustomShortcutSet(CommonShortcuts.CTRL_ENTER, editor.getComponent());",
      "info" : "ExpressionStatement[5203-5290]:ExpressionStatement[5074-5161]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5552-7181]:Block[5423-7052]"
    }, {
      "left" : "TextRange selectedRange = EditorUtil.getSelectionInAnyMode(editor);",
      "right" : "TextRange selectedRange = EditorUtil.getSelectionInAnyMode(editor);",
      "info" : "VariableDeclarationStatement[5558-5625]:VariableDeclarationStatement[5429-5496]"
    }, {
      "left" : "Document document = editor.getDocument();",
      "right" : "Document document = editor.getDocument();",
      "info" : "VariableDeclarationStatement[5630-5671]:VariableDeclarationStatement[5501-5542]"
    }, {
      "left" : "if (selectedRange.getLength() == 0)",
      "right" : "if (selectedRange.getLength() == 0)",
      "info" : "IfStatement[5676-5900]:IfStatement[5547-5771]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5712-5900]:Block[5583-5771]"
    }, {
      "left" : "int line = document.getLineNumber(selectedRange.getStartOffset());",
      "right" : "int line = document.getLineNumber(selectedRange.getStartOffset());",
      "info" : "VariableDeclarationStatement[5720-5786]:VariableDeclarationStatement[5591-5657]"
    }, {
      "left" : "selectedRange = TextRange.create(document.getLineStartOffset(line), document.getLineEndOffset(line));",
      "right" : "selectedRange = TextRange.create(document.getLineStartOffset(line), document.getLineEndOffset(line));",
      "info" : "ExpressionStatement[5793-5894]:ExpressionStatement[5664-5765]"
    }, {
      "left" : "VirtualFile profileChild = file.getParent().findChild(\".profile.\" + file.getExtension());",
      "right" : "VirtualFile profileChild = file.getParent().findChild(\".profile.\" + file.getExtension());",
      "info" : "VariableDeclarationStatement[5905-5994]:VariableDeclarationStatement[5776-5865]"
    }, {
      "left" : "String profile = null;",
      "right" : "String profile = null;",
      "info" : "VariableDeclarationStatement[5999-6021]:VariableDeclarationStatement[5870-5892]"
    }, {
      "left" : "try{...}",
      "right" : "try{...}",
      "info" : "TryStatement[6026-6157]:TryStatement[5897-6028]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6030-6117]:Block[5901-5988]"
    }, {
      "left" : "profile = profileChild == null ? \"\" : VfsUtilCore.loadText(profileChild);",
      "right" : "profile = profileChild == null ? \"\" : VfsUtilCore.loadText(profileChild);",
      "info" : "ExpressionStatement[6038-6111]:ExpressionStatement[5909-5982]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6150-6157]:Block[6021-6028]"
    }, {
      "left" : "String command = document.getText(selectedRange);",
      "right" : "String command = document.getText(selectedRange);",
      "info" : "VariableDeclarationStatement[6162-6211]:VariableDeclarationStatement[6033-6082]"
    }, {
      "left" : "RunContentDescriptor descriptor = getConsoleView(project, file, engine);",
      "right" : "RunContentDescriptor descriptor = getConsoleView(project, file, engine);",
      "info" : "VariableDeclarationStatement[6216-6288]:VariableDeclarationStatement[6087-6159]"
    }, {
      "left" : "ConsoleViewImpl consoleView = (ConsoleViewImpl)descriptor.getExecutionConsole();",
      "right" : "ConsoleViewImpl consoleView = (ConsoleViewImpl)descriptor.getExecutionConsole();",
      "info" : "VariableDeclarationStatement[6293-6373]:VariableDeclarationStatement[6164-6244]"
    }, {
      "left" : "try{...}",
      "right" : "try{...}",
      "info" : "TryStatement[6378-7146]:TryStatement[6249-7017]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6382-6820]:Block[6253-6691]"
    }, {
      "left" : "consoleView.print(\"> \" + command, ConsoleViewContentType.USER_INPUT);",
      "right" : "consoleView.print(\"> \" + command, ConsoleViewContentType.USER_INPUT);",
      "info" : "ExpressionStatement[6452-6521]:ExpressionStatement[6323-6392]"
    }, {
      "left" : "consoleView.print(\"\\n\", ConsoleViewContentType.USER_INPUT);",
      "right" : "consoleView.print(\"\\n\", ConsoleViewContentType.USER_INPUT);",
      "info" : "ExpressionStatement[6528-6587]:ExpressionStatement[6399-6458]"
    }, {
      "left" : "Object o = engine.eval(profile == null ? command : profile + \"\\n\" + command);",
      "right" : "Object o = engine.eval(profile == null ? command : profile + \"\\n\" + command);",
      "info" : "VariableDeclarationStatement[6594-6671]:VariableDeclarationStatement[6465-6542]"
    }, {
      "left" : "consoleView.print(\"=> \" + o, ConsoleViewContentType.NORMAL_OUTPUT);",
      "right" : "consoleView.print(\"=> \" + o, ConsoleViewContentType.NORMAL_OUTPUT);",
      "info" : "ExpressionStatement[6678-6745]:ExpressionStatement[6549-6616]"
    }, {
      "left" : "consoleView.print(\"\\n\", ConsoleViewContentType.NORMAL_OUTPUT);",
      "right" : "consoleView.print(\"\\n\", ConsoleViewContentType.NORMAL_OUTPUT);",
      "info" : "ExpressionStatement[6752-6814]:ExpressionStatement[6623-6685]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6845-7146]:Block[6716-7017]"
    }, {
      "left" : "Throwable ex = ExceptionUtil.getRootCause(e);",
      "right" : "Throwable ex = ExceptionUtil.getRootCause(e);",
      "info" : "VariableDeclarationStatement[6909-6954]:VariableDeclarationStatement[6780-6825]"
    }, {
      "left" : "consoleView.print(ex.getClass().getSimpleName() + \": \" + ex.getMessage(), ConsoleViewContentType.ERROR_OUTPUT);",
      "right" : "consoleView.print(ex.getClass().getSimpleName() + \": \" + ex.getMessage(), ConsoleViewContentType.ERROR_OUTPUT);",
      "info" : "ExpressionStatement[6961-7072]:ExpressionStatement[6832-6943]"
    }, {
      "left" : "consoleView.print(\"\\n\", ConsoleViewContentType.ERROR_OUTPUT);",
      "right" : "consoleView.print(\"\\n\", ConsoleViewContentType.ERROR_OUTPUT);",
      "info" : "ExpressionStatement[7079-7140]:ExpressionStatement[6950-7011]"
    }, {
      "left" : "selectContent(descriptor);",
      "right" : "selectContent(descriptor);",
      "info" : "ExpressionStatement[7151-7177]:ExpressionStatement[7022-7048]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[7252-7558]:Block[7123-7429]"
    }, {
      "left" : "Executor executor = DefaultRunExecutor.getRunExecutorInstance();",
      "right" : "Executor executor = DefaultRunExecutor.getRunExecutorInstance();",
      "info" : "VariableDeclarationStatement[7258-7322]:VariableDeclarationStatement[7129-7193]"
    }, {
      "left" : "ConsoleViewImpl consoleView = ObjectUtils.assertNotNull((ConsoleViewImpl)descriptor.getExecutionConsole());",
      "right" : "ConsoleViewImpl consoleView = ObjectUtils.assertNotNull((ConsoleViewImpl)descriptor.getExecutionConsole());",
      "info" : "VariableDeclarationStatement[7327-7434]:VariableDeclarationStatement[7198-7305]"
    }, {
      "left" : "ExecutionManager.getInstance(consoleView.getProject()).getContentManager().toFrontRunContent(executor, descriptor);",
      "right" : "ExecutionManager.getInstance(consoleView.getProject()).getContentManager().toFrontRunContent(executor, descriptor);",
      "info" : "ExpressionStatement[7439-7554]:ExpressionStatement[7310-7425]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[7710-8283]:Block[7581-8174]"
    }, {
      "left" : "PsiFile psiFile = ObjectUtils.assertNotNull(PsiManager.getInstance(project).findFile(file));",
      "right" : "PsiFile psiFile = ObjectUtils.assertNotNull(PsiManager.getInstance(project).findFile(file));",
      "info" : "VariableDeclarationStatement[7716-7808]:VariableDeclarationStatement[7587-7679]"
    }, {
      "left" : "WeakReference<RunContentDescriptor> ref = psiFile.getCopyableUserData(DESCRIPTOR_KEY);",
      "right" : "WeakReference<RunContentDescriptor> ref = psiFile.getCopyableUserData(DESCRIPTOR_KEY);",
      "info" : "VariableDeclarationStatement[7814-7900]:VariableDeclarationStatement[7685-7771]"
    }, {
      "left" : "RunContentDescriptor descriptor = ref == null ? null : ref.get();",
      "right" : "RunContentDescriptor descriptor = ref == null ? null : ref.get();",
      "info" : "VariableDeclarationStatement[7905-7970]:VariableDeclarationStatement[7776-7841]"
    }, {
      "left" : "if (descriptor == null || descriptor.getExecutionConsole() == null)",
      "right" : "if (descriptor == null || descriptor.getExecutionConsole() == null)",
      "info" : "IfStatement[7975-8218]:IfStatement[7846-8089]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[8043-8218]:Block[7914-8089]"
    }, {
      "left" : "descriptor = createConsoleView(project, engine, psiFile);",
      "right" : "descriptor = createConsoleView(project, engine, psiFile);",
      "info" : "ExpressionStatement[8051-8108]:ExpressionStatement[7922-7979]"
    }, {
      "left" : "psiFile.putCopyableUserData(DESCRIPTOR_KEY, new WeakReference<RunContentDescriptor>(descriptor));",
      "right" : "psiFile.putCopyableUserData(DESCRIPTOR_KEY, new WeakReference<RunContentDescriptor>(descriptor));",
      "info" : "ExpressionStatement[8115-8212]:ExpressionStatement[7986-8083]"
    }, {
      "left" : "ensureIdeBound(project, engine);",
      "right" : "IdeScriptBindings.ensureIdeIsBound(project, engine);",
      "info" : "ExpressionStatement[8223-8255]:ExpressionStatement[8094-8146]"
    }, {
      "left" : "return descriptor;",
      "right" : "return descriptor;",
      "info" : "ReturnStatement[8261-8279]:ReturnStatement[8152-8170]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[8437-9588]:Block[8328-9479]"
    }, {
      "left" : "ConsoleView consoleView = TextConsoleBuilderFactory.getInstance().createBuilder(project).getConsole();",
      "right" : "ConsoleView consoleView = TextConsoleBuilderFactory.getInstance().createBuilder(project).getConsole();",
      "info" : "VariableDeclarationStatement[8443-8545]:VariableDeclarationStatement[8334-8436]"
    }, {
      "left" : "DefaultActionGroup toolbarActions = new DefaultActionGroup();",
      "right" : "DefaultActionGroup toolbarActions = new DefaultActionGroup();",
      "info" : "VariableDeclarationStatement[8551-8612]:VariableDeclarationStatement[8442-8503]"
    }, {
      "left" : "JComponent panel = new JPanel(new BorderLayout());",
      "right" : "JComponent panel = new JPanel(new BorderLayout());",
      "info" : "VariableDeclarationStatement[8617-8667]:VariableDeclarationStatement[8508-8558]"
    }, {
      "left" : "panel.add(consoleView.getComponent(), BorderLayout.CENTER);",
      "right" : "panel.add(consoleView.getComponent(), BorderLayout.CENTER);",
      "info" : "ExpressionStatement[8672-8731]:ExpressionStatement[8563-8622]"
    }, {
      "left" : "ActionToolbar toolbar = ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN, toolbarActions, false);",
      "right" : "ActionToolbar toolbar = ActionManager.getInstance().createActionToolbar(ActionPlaces.UNKNOWN, toolbarActions, false);",
      "info" : "VariableDeclarationStatement[8736-8853]:VariableDeclarationStatement[8627-8744]"
    }, {
      "left" : "toolbar.setTargetComponent(consoleView.getComponent());",
      "right" : "toolbar.setTargetComponent(consoleView.getComponent());",
      "info" : "ExpressionStatement[8858-8913]:ExpressionStatement[8749-8804]"
    }, {
      "left" : "panel.add(toolbar.getComponent(), BorderLayout.WEST);",
      "right" : "panel.add(toolbar.getComponent(), BorderLayout.WEST);",
      "info" : "ExpressionStatement[8918-8971]:ExpressionStatement[8809-8862]"
    }, {
      "left" : "final RunContentDescriptor descriptor = new RunContentDescriptor(consoleView, null, panel, psiFile.getName()) {\n      @Override\n      public boolean isContentReuseProhibited() {\n        return true;\n      }\n    };",
      "right" : "final RunContentDescriptor descriptor = new RunContentDescriptor(consoleView, null, panel, psiFile.getName()) {\n      @Override\n      public boolean isContentReuseProhibited() {\n        return true;\n      }\n    };",
      "info" : "VariableDeclarationStatement[8977-9190]:VariableDeclarationStatement[8868-9081]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[9153-9183]:Block[9044-9074]"
    }, {
      "left" : "return true;",
      "right" : "return true;",
      "info" : "ReturnStatement[9163-9175]:ReturnStatement[9054-9066]"
    }, {
      "left" : "Executor executor = DefaultRunExecutor.getRunExecutorInstance();",
      "right" : "Executor executor = DefaultRunExecutor.getRunExecutorInstance();",
      "info" : "VariableDeclarationStatement[9195-9259]:VariableDeclarationStatement[9086-9150]"
    }, {
      "left" : "toolbarActions.addAll(consoleView.createConsoleActions());",
      "right" : "toolbarActions.addAll(consoleView.createConsoleActions());",
      "info" : "ExpressionStatement[9264-9322]:ExpressionStatement[9155-9213]"
    }, {
      "left" : "toolbarActions.add(new CloseAction(executor, descriptor, project));",
      "right" : "toolbarActions.add(new CloseAction(executor, descriptor, project));",
      "info" : "ExpressionStatement[9327-9394]:ExpressionStatement[9218-9285]"
    }, {
      "left" : "ExecutionManager.getInstance(project).getContentManager().showRunContent(executor, descriptor);",
      "right" : "ExecutionManager.getInstance(project).getContentManager().showRunContent(executor, descriptor);",
      "info" : "ExpressionStatement[9399-9494]:ExpressionStatement[9290-9385]"
    }, {
      "left" : "new ScriptEngineOutputHandler(descriptor).installOn(engine);",
      "right" : "new ScriptEngineOutputHandler(descriptor).installOn(engine);",
      "info" : "ExpressionStatement[9500-9560]:ExpressionStatement[9391-9451]"
    }, {
      "left" : "return descriptor;",
      "right" : "return descriptor;",
      "info" : "ReturnStatement[9566-9584]:ReturnStatement[9457-9475]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[9992-10307]:Block[9634-9949]"
    }, {
      "left" : "Project project = e.getProject();",
      "right" : "Project project = e.getProject();",
      "info" : "VariableDeclarationStatement[10000-10033]:VariableDeclarationStatement[9642-9675]"
    }, {
      "left" : "Editor editor = CommonDataKeys.EDITOR.getData(e.getDataContext());",
      "right" : "Editor editor = CommonDataKeys.EDITOR.getData(e.getDataContext());",
      "info" : "VariableDeclarationStatement[10040-10106]:VariableDeclarationStatement[9682-9748]"
    }, {
      "left" : "VirtualFile virtualFile = CommonDataKeys.VIRTUAL_FILE.getData(e.getDataContext());",
      "right" : "VirtualFile virtualFile = CommonDataKeys.VIRTUAL_FILE.getData(e.getDataContext());",
      "info" : "VariableDeclarationStatement[10113-10195]:VariableDeclarationStatement[9755-9837]"
    }, {
      "left" : "e.getPresentation().setEnabledAndVisible(project != null && editor != null && virtualFile != null);",
      "right" : "e.getPresentation().setEnabledAndVisible(project != null && editor != null && virtualFile != null);",
      "info" : "ExpressionStatement[10202-10301]:ExpressionStatement[9844-9943]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10372-11105]:Block[10014-10747]"
    }, {
      "left" : "Project project = e.getProject();",
      "right" : "Project project = e.getProject();",
      "info" : "VariableDeclarationStatement[10380-10413]:VariableDeclarationStatement[10022-10055]"
    }, {
      "left" : "Editor editor = CommonDataKeys.EDITOR.getData(e.getDataContext());",
      "right" : "Editor editor = CommonDataKeys.EDITOR.getData(e.getDataContext());",
      "info" : "VariableDeclarationStatement[10420-10486]:VariableDeclarationStatement[10062-10128]"
    }, {
      "left" : "VirtualFile virtualFile = CommonDataKeys.VIRTUAL_FILE.getData(e.getDataContext());",
      "right" : "VirtualFile virtualFile = CommonDataKeys.VIRTUAL_FILE.getData(e.getDataContext());",
      "info" : "VariableDeclarationStatement[10493-10575]:VariableDeclarationStatement[10135-10217]"
    }, {
      "left" : "if (project == null || editor == null || virtualFile == null)",
      "right" : "if (project == null || editor == null || virtualFile == null)",
      "info" : "IfStatement[10582-10651]:IfStatement[10224-10293]"
    }, {
      "left" : "return;",
      "right" : "return;",
      "info" : "ReturnStatement[10644-10651]:ReturnStatement[10286-10293]"
    }, {
      "left" : "String extension = virtualFile.getExtension();",
      "right" : "String extension = virtualFile.getExtension();",
      "info" : "VariableDeclarationStatement[10659-10705]:VariableDeclarationStatement[10301-10347]"
    }, {
      "left" : "if (extension != null && (engine == null || !engine.getFileExtensions().contains(extension)))",
      "right" : "if (extension != null && (engine == null || !engine.getFileExtensions().contains(extension)))",
      "info" : "IfStatement[10712-10907]:IfStatement[10354-10549]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10806-10907]:Block[10448-10549]"
    }, {
      "left" : "engine = IdeScriptEngineManager.getInstance().getEngineForFileExtension(extension);",
      "right" : "engine = IdeScriptEngineManager.getInstance().getEngineForFileExtension(extension);",
      "info" : "ExpressionStatement[10816-10899]:ExpressionStatement[10458-10541]"
    }, {
      "left" : "if (engine == null)",
      "right" : "if (engine == null)",
      "info" : "IfStatement[10914-11099]:IfStatement[10556-10741]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[10934-11018]:Block[10576-10660]"
    }, {
      "left" : "LOG.warn(\"Script engine not found for: \" + virtualFile.getName());",
      "right" : "LOG.warn(\"Script engine not found for: \" + virtualFile.getName());",
      "info" : "ExpressionStatement[10944-11010]:ExpressionStatement[10586-10652]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11030-11099]:Block[10672-10741]"
    }, {
      "left" : "executeQuery(project, virtualFile, editor, engine);",
      "right" : "executeQuery(project, virtualFile, editor, engine);",
      "info" : "ExpressionStatement[11040-11091]:ExpressionStatement[10682-10733]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11562-11643]:Block[11204-11285]"
    }, {
      "left" : "myDescriptor = new WeakReference<RunContentDescriptor>(descriptor);",
      "right" : "myDescriptor = new WeakReference<RunContentDescriptor>(descriptor);",
      "info" : "ExpressionStatement[11570-11637]:ExpressionStatement[11212-11279]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11704-11791]:Block[11346-11433]"
    }, {
      "left" : "engine.setStdOut(myStdOutWriter);",
      "right" : "engine.setStdOut(myStdOutWriter);",
      "info" : "ExpressionStatement[11712-11745]:ExpressionStatement[11354-11387]"
    }, {
      "left" : "engine.setStdErr(myStdErrWriter);",
      "right" : "engine.setStdErr(myStdErrWriter);",
      "info" : "ExpressionStatement[11752-11785]:ExpressionStatement[11394-11427]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[11963-12007]:Block[11605-11649]"
    }, {
      "left" : "myOutputType = outputType;",
      "right" : "myOutputType = outputType;",
      "info" : "ExpressionStatement[11973-11999]:ExpressionStatement[11615-11641]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12099-12508]:Block[11741-12150]"
    }, {
      "left" : "RunContentDescriptor descriptor = myDescriptor.get();",
      "right" : "RunContentDescriptor descriptor = myDescriptor.get();",
      "info" : "VariableDeclarationStatement[12109-12162]:VariableDeclarationStatement[11751-11804]"
    }, {
      "left" : "ConsoleViewImpl console = ObjectUtils.tryCast(descriptor != null ? descriptor.getExecutionConsole() : null, ConsoleViewImpl.class);",
      "right" : "ConsoleViewImpl console = ObjectUtils.tryCast(descriptor != null ? descriptor.getExecutionConsole() : null, ConsoleViewImpl.class);",
      "info" : "VariableDeclarationStatement[12171-12302]:VariableDeclarationStatement[11813-11944]"
    }, {
      "left" : "if (console == null)",
      "right" : "if (console == null)",
      "info" : "IfStatement[12311-12435]:IfStatement[11953-12077]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12332-12435]:Block[11974-12077]"
    }, {
      "left" : "throw new IOException(\"The console is not available.\");",
      "right" : "throw new IOException(\"The console is not available.\");",
      "info" : "ThrowStatement[12370-12425]:ThrowStatement[12012-12067]"
    }, {
      "left" : "console.print(new String(cbuf, off, len), myOutputType);",
      "right" : "console.print(new String(cbuf, off, len), myOutputType);",
      "info" : "ExpressionStatement[12444-12500]:ExpressionStatement[12086-12142]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12571-12580]:Block[12213-12222]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[12643-12652]:Block[12285-12294]"
    } ]
  },
  "interFileMappings" : {
    "Moved to File: platform/lang-impl/src/com/intellij/ide/script/IDE.java" : {
      "matchedElements" : [
 {
        "left" : "IDE",
        "right" : "IDE",
        "info" : "TypeDeclaration[12666-13621]:TypeDeclaration[1053-1969]"
      }, {
        "left" : "public final Application application = ApplicationManager.getApplication();",
        "right" : "public final Application application = ApplicationManager.getApplication();",
        "info" : "FieldDeclaration[12696-12771]:FieldDeclaration[1074-1149]"
      }, {
        "left" : "public final Project project;",
        "right" : "public final Project project;",
        "info" : "FieldDeclaration[12776-12805]:FieldDeclaration[1152-1181]"
      }, {
        "left" : "private final Map<Object, Object> bindings = ContainerUtil.newConcurrentMap();",
        "right" : "private final Map<Object, Object> bindings = ContainerUtil.newConcurrentMap();",
        "info" : "FieldDeclaration[12811-12889]:FieldDeclaration[1185-1263]"
      }, {
        "left" : "private final IdeScriptEngine myEngine;",
        "right" : "private final IdeScriptEngine myEngine;",
        "info" : "FieldDeclaration[12894-12933]:FieldDeclaration[1266-1305]"
      }, {
        "left" : "IDE(Project project, IdeScriptEngine engine)",
        "right" : "public IDE(@Nullable Project project, @NotNull IdeScriptEngine engine)",
        "info" : "MethodDeclaration[12939-13046]:MethodDeclaration[1309-1436]"
      }, {
        "left" : "public void print(Object o)",
        "right" : "public void print(Object o)",
        "info" : "MethodDeclaration[13052-13125]:MethodDeclaration[1440-1509]"
      }, {
        "left" : "public void error(Object o)",
        "right" : "public void error(Object o)",
        "info" : "MethodDeclaration[13131-13204]:MethodDeclaration[1513-1582]"
      }, {
        "left" : "public Object put(Object key, Object value)",
        "right" : "public Object put(Object key, Object value)",
        "info" : "MethodDeclaration[13210-13339]:MethodDeclaration[1586-1711]"
      }, {
        "left" : "public Object get(Object key)",
        "right" : "public Object get(Object key)",
        "info" : "MethodDeclaration[13345-13414]:MethodDeclaration[1715-1780]"
      }, {
        "left" : "private static void print(Writer writer, Object o)",
        "right" : "private static void print(Writer writer, Object o)",
        "info" : "MethodDeclaration[13420-13617]:MethodDeclaration[1784-1967]"
      } ],
      "mappings" : [
 {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[12984-13046]:Block[1380-1436]"
      }, {
        "left" : "this.project = project;",
        "right" : "this.project = project;",
        "info" : "ExpressionStatement[12992-13015]:ExpressionStatement[1386-1409]"
      }, {
        "left" : "myEngine = engine;",
        "right" : "myEngine = engine;",
        "info" : "ExpressionStatement[13022-13040]:ExpressionStatement[1414-1432]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13080-13125]:Block[1468-1509]"
      }, {
        "left" : "print(myEngine.getStdOut(), o);",
        "right" : "print(myEngine.getStdOut(), o);",
        "info" : "ExpressionStatement[13088-13119]:ExpressionStatement[1474-1505]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13159-13204]:Block[1541-1582]"
      }, {
        "left" : "print(myEngine.getStdErr(), o);",
        "right" : "print(myEngine.getStdErr(), o);",
        "info" : "ExpressionStatement[13167-13198]:ExpressionStatement[1547-1578]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13254-13339]:Block[1630-1711]"
      }, {
        "left" : "return value == null ? bindings.remove(key) : bindings.put(key, value);",
        "right" : "return value == null ? bindings.remove(key) : bindings.put(key, value);",
        "info" : "ReturnStatement[13262-13333]:ReturnStatement[1636-1707]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13375-13414]:Block[1745-1780]"
      }, {
        "left" : "return bindings.get(key);",
        "right" : "return bindings.get(key);",
        "info" : "ReturnStatement[13383-13408]:ReturnStatement[1751-1776]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13471-13617]:Block[1835-1967]"
      }, {
        "left" : "try{...}",
        "right" : "try{...}",
        "info" : "TryStatement[13479-13611]:TryStatement[1841-1963]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13483-13534]:Block[1845-1892]"
      }, {
        "left" : "writer.append(String.valueOf(o));",
        "right" : "writer.append(String.valueOf(o));",
        "info" : "ExpressionStatement[13493-13526]:ExpressionStatement[1853-1886]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[13563-13611]:Block[1919-1963]"
      }, {
        "left" : "throw new RuntimeException(e);",
        "right" : "throw new RuntimeException(e);",
        "info" : "ThrowStatement[13573-13603]:ThrowStatement[1927-1957]"
      } ]
    },
    "Moved to File: platform/lang-impl/src/com/intellij/ide/script/IdeScriptBindings.java" : {
      "matchedElements" : [
 {
        "left" : "private static final String IDE = \"IDE\";",
        "right" : "public static final Binding<IDE> IDE = Binding.create(\"IDE\", IDE.class);",
        "info" : "FieldDeclaration[2686-2726]:FieldDeclaration[888-960]"
      }, {
        "left" : "private static void ensureIdeBound(@NotNull Project project, @NotNull IdeScriptEngine engine)",
        "right" : "public static void ensureIdeIsBound(@Nullable Project project, @NotNull IdeScriptEngine engine)",
        "info" : "MethodDeclaration[9592-9837]:MethodDeclaration[964-1194]"
      } ],
      "mappings" : [
 {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[9686-9837]:Block[1060-1194]"
      }, {
        "left" : "Object oldIdeBinding = engine.getBinding(IDE);",
        "right" : "IDE oldIdeBinding = IDE.get(engine);",
        "info" : "VariableDeclarationStatement[9692-9738]:VariableDeclarationStatement[1066-1102]"
      }, {
        "left" : "if (oldIdeBinding == null)",
        "right" : "if (oldIdeBinding == null)",
        "info" : "IfStatement[9743-9833]:IfStatement[1107-1190]"
      }, {
        "left" : "{}",
        "right" : "{}",
        "info" : "Block[9770-9833]:Block[1134-1190]"
      }, {
        "left" : "engine.setBinding(IDE, new IDE(project, engine));",
        "right" : "IDE.set(engine, new IDE(project, engine));",
        "info" : "ExpressionStatement[9778-9827]:ExpressionStatement[1142-1184]"
      } ]
    }
  }
}