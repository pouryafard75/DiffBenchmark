{
  "intraFileMappings" : {
    "matchedElements" : [
 {
      "left" : "Cleaner",
      "right" : "Cleaner",
      "info" : "TypeDeclaration[470-6650]:TypeDeclaration[493-7325]"
    }, {
      "left" : "private Whitelist whitelist;",
      "right" : "private Whitelist whitelist;",
      "info" : "FieldDeclaration[1178-1206]:FieldDeclaration[1201-1229]"
    }, {
      "left" : "public Cleaner(Whitelist whitelist)",
      "right" : "public Cleaner(Whitelist whitelist)",
      "info" : "MethodDeclaration[1212-1473]:MethodDeclaration[1235-1496]"
    }, {
      "left" : "public Document clean(Document dirtyDocument)",
      "right" : "public Document clean(Document dirtyDocument)",
      "info" : "MethodDeclaration[1479-2190]:MethodDeclaration[1502-2213]"
    }, {
      "left" : "public boolean isValid(Document dirtyDocument)",
      "right" : "public boolean isValid(Document dirtyDocument)",
      "info" : "MethodDeclaration[2196-3199]:MethodDeclaration[2219-3385]"
    }, {
      "left" : "CleaningVisitor",
      "right" : "CleaningVisitor",
      "info" : "TypeDeclaration[3206-5350]:TypeDeclaration[3881-6025]"
    }, {
      "left" : "private int numDiscarded = 0;",
      "right" : "private int numDiscarded = 0;",
      "info" : "FieldDeclaration[3387-3416]:FieldDeclaration[4062-4091]"
    }, {
      "left" : "private final Element root;",
      "right" : "private final Element root;",
      "info" : "FieldDeclaration[3425-3452]:FieldDeclaration[4100-4127]"
    }, {
      "left" : "private Element destination;",
      "right" : "private Element destination;",
      "info" : "FieldDeclaration[3461-3489]:FieldDeclaration[4136-4164]"
    }, {
      "left" : "private CleaningVisitor(Element root, Element destination)",
      "right" : "private CleaningVisitor(Element root, Element destination)",
      "info" : "MethodDeclaration[3537-3681]:MethodDeclaration[4212-4356]"
    }, {
      "left" : "public void head(Node source, int depth)",
      "right" : "public void head(Node source, int depth)",
      "info" : "MethodDeclaration[3691-5079]:MethodDeclaration[4366-5754]"
    }, {
      "left" : "public void tail(Node source, int depth)",
      "right" : "public void tail(Node source, int depth)",
      "info" : "MethodDeclaration[5089-5344]:MethodDeclaration[5764-6019]"
    }, {
      "left" : "private int copySafeNodes(Element source, Element dest)",
      "right" : "private int copySafeNodes(Element source, Element dest)",
      "info" : "MethodDeclaration[5356-5647]:MethodDeclaration[6031-6322]"
    }, {
      "left" : "private ElementMeta createSafeElement(Element sourceEl)",
      "right" : "private ElementMeta createSafeElement(Element sourceEl)",
      "info" : "MethodDeclaration[5653-6392]:MethodDeclaration[6328-7067]"
    }, {
      "left" : "ElementMeta",
      "right" : "ElementMeta",
      "info" : "TypeDeclaration[6398-6647]:TypeDeclaration[7073-7322]"
    }, {
      "left" : "Element el;",
      "right" : "Element el;",
      "info" : "FieldDeclaration[6441-6452]:FieldDeclaration[7116-7127]"
    }, {
      "left" : "int numAttribsDiscarded;",
      "right" : "int numAttribsDiscarded;",
      "info" : "FieldDeclaration[6461-6485]:FieldDeclaration[7136-7160]"
    }, {
      "left" : "ElementMeta(Element el, int numAttribsDiscarded)",
      "right" : "ElementMeta(Element el, int numAttribsDiscarded)",
      "info" : "MethodDeclaration[6495-6641]:MethodDeclaration[7170-7316]"
    } ],
    "mappings" : [
 {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1393-1473]:Block[1416-1496]"
    }, {
      "left" : "Validate.notNull(whitelist);",
      "right" : "Validate.notNull(whitelist);",
      "info" : "ExpressionStatement[1403-1431]:ExpressionStatement[1426-1454]"
    }, {
      "left" : "this.whitelist = whitelist;",
      "right" : "this.whitelist = whitelist;",
      "info" : "ExpressionStatement[1440-1467]:ExpressionStatement[1463-1490]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1864-2190]:Block[1887-2213]"
    }, {
      "left" : "Validate.notNull(dirtyDocument);",
      "right" : "Validate.notNull(dirtyDocument);",
      "info" : "ExpressionStatement[1874-1906]:ExpressionStatement[1897-1929]"
    }, {
      "left" : "Document clean = Document.createShell(dirtyDocument.baseUri());",
      "right" : "Document clean = Document.createShell(dirtyDocument.baseUri());",
      "info" : "VariableDeclarationStatement[1916-1979]:VariableDeclarationStatement[1939-2002]"
    }, {
      "left" : "if (dirtyDocument.body() != null)",
      "right" : "if (dirtyDocument.body() != null)",
      "info" : "IfStatement[1988-2161]:IfStatement[2011-2184]"
    }, {
      "left" : "copySafeNodes(dirtyDocument.body(), clean.body());",
      "right" : "copySafeNodes(dirtyDocument.body(), clean.body());",
      "info" : "ExpressionStatement[2111-2161]:ExpressionStatement[2134-2184]"
    }, {
      "left" : "return clean;",
      "right" : "return clean;",
      "info" : "ReturnStatement[2171-2184]:ReturnStatement[2194-2207]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2966-3199]:Block[2989-3385]"
    }, {
      "left" : "Validate.notNull(dirtyDocument);",
      "right" : "Validate.notNull(dirtyDocument);",
      "info" : "ExpressionStatement[2976-3008]:ExpressionStatement[2999-3031]"
    }, {
      "left" : "Document clean = Document.createShell(dirtyDocument.baseUri());",
      "right" : "Document clean = Document.createShell(dirtyDocument.baseUri());",
      "info" : "VariableDeclarationStatement[3018-3081]:VariableDeclarationStatement[3041-3104]"
    }, {
      "left" : "int numDiscarded = copySafeNodes(dirtyDocument.body(), clean.body());",
      "right" : "int numDiscarded = copySafeNodes(dirtyDocument.body(), clean.body());",
      "info" : "VariableDeclarationStatement[3090-3159]:VariableDeclarationStatement[3113-3182]"
    }, {
      "left" : "return numDiscarded == 0;",
      "right" : "return numDiscarded == 0 && errorList.size() == 0;",
      "info" : "ReturnStatement[3168-3193]:ReturnStatement[3819-3869]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3596-3681]:Block[4271-4356]"
    }, {
      "left" : "this.root = root;",
      "right" : "this.root = root;",
      "info" : "ExpressionStatement[3610-3627]:ExpressionStatement[4285-4302]"
    }, {
      "left" : "this.destination = destination;",
      "right" : "this.destination = destination;",
      "info" : "ExpressionStatement[3640-3671]:ExpressionStatement[4315-4346]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3732-5079]:Block[4407-5754]"
    }, {
      "left" : "if (source instanceof Element)",
      "right" : "if (source instanceof Element)",
      "info" : "IfStatement[3746-5069]:IfStatement[4421-5744]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3777-4393]:Block[4452-5068]"
    }, {
      "left" : "Element sourceEl = (Element) source;",
      "right" : "Element sourceEl = (Element) source;",
      "info" : "VariableDeclarationStatement[3795-3831]:VariableDeclarationStatement[4470-4506]"
    }, {
      "left" : "if (whitelist.isSafeTag(sourceEl.tagName()))",
      "right" : "if (whitelist.isSafeTag(sourceEl.tagName()))",
      "info" : "IfStatement[3849-4379]:IfStatement[4524-5054]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3894-4229]:Block[4569-4904]"
    }, {
      "left" : "ElementMeta meta = createSafeElement(sourceEl);",
      "right" : "ElementMeta meta = createSafeElement(sourceEl);",
      "info" : "VariableDeclarationStatement[3951-3998]:VariableDeclarationStatement[4626-4673]"
    }, {
      "left" : "Element destChild = meta.el;",
      "right" : "Element destChild = meta.el;",
      "info" : "VariableDeclarationStatement[4019-4047]:VariableDeclarationStatement[4694-4722]"
    }, {
      "left" : "destination.appendChild(destChild);",
      "right" : "destination.appendChild(destChild);",
      "info" : "ExpressionStatement[4068-4103]:ExpressionStatement[4743-4778]"
    }, {
      "left" : "numDiscarded += meta.numAttribsDiscarded;",
      "right" : "numDiscarded += meta.numAttribsDiscarded;",
      "info" : "ExpressionStatement[4125-4166]:ExpressionStatement[4800-4841]"
    }, {
      "left" : "destination = destChild;",
      "right" : "destination = destChild;",
      "info" : "ExpressionStatement[4187-4211]:ExpressionStatement[4862-4886]"
    }, {
      "left" : "if (source != root)",
      "right" : "if (source != root)",
      "info" : "IfStatement[4235-4379]:IfStatement[4910-5054]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4255-4379]:Block[4930-5054]"
    }, {
      "left" : "numDiscarded++;",
      "right" : "numDiscarded++;",
      "info" : "ExpressionStatement[4346-4361]:ExpressionStatement[5021-5036]"
    }, {
      "left" : "if (source instanceof TextNode)",
      "right" : "if (source instanceof TextNode)",
      "info" : "IfStatement[4399-5069]:IfStatement[5074-5744]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4431-4649]:Block[5106-5324]"
    }, {
      "left" : "TextNode sourceText = (TextNode) source;",
      "right" : "TextNode sourceText = (TextNode) source;",
      "info" : "VariableDeclarationStatement[4449-4489]:VariableDeclarationStatement[5124-5164]"
    }, {
      "left" : "TextNode destText = new TextNode(sourceText.getWholeText(), source.baseUri());",
      "right" : "TextNode destText = new TextNode(sourceText.getWholeText(), source.baseUri());",
      "info" : "VariableDeclarationStatement[4506-4584]:VariableDeclarationStatement[5181-5259]"
    }, {
      "left" : "destination.appendChild(destText);",
      "right" : "destination.appendChild(destText);",
      "info" : "ExpressionStatement[4601-4635]:ExpressionStatement[5276-5310]"
    }, {
      "left" : "if (source instanceof DataNode && whitelist.isSafeTag(source.parent().nodeName()))",
      "right" : "if (source instanceof DataNode && whitelist.isSafeTag(source.parent().nodeName()))",
      "info" : "IfStatement[4655-5069]:IfStatement[5330-5744]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4738-4950]:Block[5413-5625]"
    }, {
      "left" : "DataNode sourceData = (DataNode) source;",
      "right" : "DataNode sourceData = (DataNode) source;",
      "info" : "VariableDeclarationStatement[4754-4794]:VariableDeclarationStatement[5429-5469]"
    }, {
      "left" : "DataNode destData = new DataNode(sourceData.getWholeData(), source.baseUri());",
      "right" : "DataNode destData = new DataNode(sourceData.getWholeData(), source.baseUri());",
      "info" : "VariableDeclarationStatement[4809-4887]:VariableDeclarationStatement[5484-5562]"
    }, {
      "left" : "destination.appendChild(destData);",
      "right" : "destination.appendChild(destData);",
      "info" : "ExpressionStatement[4902-4936]:ExpressionStatement[5577-5611]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[4956-5069]:Block[5631-5744]"
    }, {
      "left" : "numDiscarded++;",
      "right" : "numDiscarded++;",
      "info" : "ExpressionStatement[5040-5055]:ExpressionStatement[5715-5730]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5130-5344]:Block[5805-6019]"
    }, {
      "left" : "if (source instanceof Element && whitelist.isSafeTag(source.nodeName()))",
      "right" : "if (source instanceof Element && whitelist.isSafeTag(source.nodeName()))",
      "info" : "IfStatement[5144-5334]:IfStatement[5819-6009]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5217-5334]:Block[5892-6009]"
    }, {
      "left" : "destination = destination.parent();",
      "right" : "destination = destination.parent();",
      "info" : "ExpressionStatement[5235-5270]:ExpressionStatement[5910-5945]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5412-5647]:Block[6087-6322]"
    }, {
      "left" : "CleaningVisitor cleaningVisitor = new CleaningVisitor(source, dest);",
      "right" : "CleaningVisitor cleaningVisitor = new CleaningVisitor(source, dest);",
      "info" : "VariableDeclarationStatement[5422-5490]:VariableDeclarationStatement[6097-6165]"
    }, {
      "left" : "NodeTraversor traversor = new NodeTraversor(cleaningVisitor);",
      "right" : "NodeTraversor traversor = new NodeTraversor(cleaningVisitor);",
      "info" : "VariableDeclarationStatement[5499-5560]:VariableDeclarationStatement[6174-6235]"
    }, {
      "left" : "traversor.traverse(source);",
      "right" : "traversor.traverse(source);",
      "info" : "ExpressionStatement[5569-5596]:ExpressionStatement[6244-6271]"
    }, {
      "left" : "return cleaningVisitor.numDiscarded;",
      "right" : "return cleaningVisitor.numDiscarded;",
      "info" : "ReturnStatement[5605-5641]:ReturnStatement[6280-6316]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[5709-6392]:Block[6384-7067]"
    }, {
      "left" : "String sourceTag = sourceEl.tagName();",
      "right" : "String sourceTag = sourceEl.tagName();",
      "info" : "VariableDeclarationStatement[5719-5757]:VariableDeclarationStatement[6394-6432]"
    }, {
      "left" : "Attributes destAttrs = new Attributes();",
      "right" : "Attributes destAttrs = new Attributes();",
      "info" : "VariableDeclarationStatement[5766-5806]:VariableDeclarationStatement[6441-6481]"
    }, {
      "left" : "Element dest = new Element(Tag.valueOf(sourceTag), sourceEl.baseUri(), destAttrs);",
      "right" : "Element dest = new Element(Tag.valueOf(sourceTag), sourceEl.baseUri(), destAttrs);",
      "info" : "VariableDeclarationStatement[5815-5897]:VariableDeclarationStatement[6490-6572]"
    }, {
      "left" : "int numDiscarded = 0;",
      "right" : "int numDiscarded = 0;",
      "info" : "VariableDeclarationStatement[5906-5927]:VariableDeclarationStatement[6581-6602]"
    }, {
      "left" : "Attributes sourceAttrs = sourceEl.attributes();",
      "right" : "Attributes sourceAttrs = sourceEl.attributes();",
      "info" : "VariableDeclarationStatement[5937-5984]:VariableDeclarationStatement[6612-6659]"
    }, {
      "left" : "for (Attribute sourceAttr : sourceAttrs)",
      "right" : "for (Attribute sourceAttr : sourceAttrs)",
      "info" : "EnhancedForStatement[5993-6213]:EnhancedForStatement[6668-6888]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6034-6213]:Block[6709-6888]"
    }, {
      "left" : "if (whitelist.isSafeAttribute(sourceTag, sourceEl, sourceAttr))",
      "right" : "if (whitelist.isSafeAttribute(sourceTag, sourceEl, sourceAttr))",
      "info" : "IfStatement[6048-6203]:IfStatement[6723-6878]"
    }, {
      "left" : "destAttrs.put(sourceAttr);",
      "right" : "destAttrs.put(sourceAttr);",
      "info" : "ExpressionStatement[6128-6154]:ExpressionStatement[6803-6829]"
    }, {
      "left" : "numDiscarded++;",
      "right" : "numDiscarded++;",
      "info" : "ExpressionStatement[6188-6203]:ExpressionStatement[6863-6878]"
    }, {
      "left" : "Attributes enforcedAttrs = whitelist.getEnforcedAttributes(sourceTag);",
      "right" : "Attributes enforcedAttrs = whitelist.getEnforcedAttributes(sourceTag);",
      "info" : "VariableDeclarationStatement[6222-6292]:VariableDeclarationStatement[6897-6967]"
    }, {
      "left" : "destAttrs.addAll(enforcedAttrs);",
      "right" : "destAttrs.addAll(enforcedAttrs);",
      "info" : "ExpressionStatement[6301-6333]:ExpressionStatement[6976-7008]"
    }, {
      "left" : "return new ElementMeta(dest, numDiscarded);",
      "right" : "return new ElementMeta(dest, numDiscarded);",
      "info" : "ReturnStatement[6343-6386]:ReturnStatement[7018-7061]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[6544-6641]:Block[7219-7316]"
    }, {
      "left" : "this.el = el;",
      "right" : "this.el = el;",
      "info" : "ExpressionStatement[6558-6571]:ExpressionStatement[7233-7246]"
    }, {
      "left" : "this.numAttribsDiscarded = numAttribsDiscarded;",
      "right" : "this.numAttribsDiscarded = numAttribsDiscarded;",
      "info" : "ExpressionStatement[6584-6631]:ExpressionStatement[7259-7306]"
    } ]
  },
  "interFileMappings" : { }
}