{
  "matchedElements" : [
 {
    "left" : "class : DefaultFaviconFetcher",
    "right" : "class : DefaultFaviconFetcher",
    "info" : "TypeDeclaration[509-3249]:TypeDeclaration[509-3334]"
  }, {
    "left" : "getter",
    "right" : "getter",
    "info" : "FieldDeclaration[744-776]:FieldDeclaration[744-776]"
  }, {
    "left" : "public fetch(feed ) : ",
    "right" : "public fetch(feed ) : ",
    "info" : "MethodDeclaration[781-1349]:MethodDeclaration[781-946]"
  }, {
    "left" : "private getIconAtRoot(url ) : ",
    "right" : "private getIconAtRoot(url ) : ",
    "info" : "MethodDeclaration[1354-1967]:MethodDeclaration[1439-2052]"
  }, {
    "left" : "private getIconInPage(url ) : ",
    "right" : "private getIconInPage(url ) : ",
    "info" : "MethodDeclaration[1972-3246]:MethodDeclaration[2057-3331]"
  } ],
  "mappings" : [
 {
    "left" : "@Slf4j",
    "right" : "@Slf4j",
    "info" : "MarkerAnnotation[592-598]:MarkerAnnotation[592-598]"
  }, {
    "left" : "@RequiredArgsConstructor(onConstructor = @__({ @Inject }))",
    "right" : "@RequiredArgsConstructor(onConstructor = @__({ @Inject }))",
    "info" : "NormalAnnotation[600-658]:NormalAnnotation[600-658]"
  }, {
    "left" : "@Singleton",
    "right" : "@Singleton",
    "info" : "MarkerAnnotation[660-670]:MarkerAnnotation[660-670]"
  }, {
    "left" : "public",
    "right" : "public",
    "info" : "Modifier[672-678]:Modifier[672-678]"
  }, {
    "left" : "class",
    "right" : "class",
    "info" : "TYPE_DECLARATION_KIND[679-684]:TYPE_DECLARATION_KIND[679-684]"
  }, {
    "left" : "@Override",
    "right" : "@Override",
    "info" : "MarkerAnnotation[781-790]:MarkerAnnotation[781-790]"
  }, {
    "left" : "public",
    "right" : "public",
    "info" : "Modifier[793-799]:Modifier[793-799]"
  }, {
    "left" : "byte[]",
    "right" : "byte[]",
    "info" : "ArrayType[800-806]:ArrayType[800-806]"
  }, {
    "left" : "fetch",
    "right" : "fetch",
    "info" : "SimpleName[807-812]:SimpleName[807-812]"
  }, {
    "left" : "Feed feed",
    "right" : "Feed feed",
    "info" : "SingleVariableDeclaration[813-822]:SingleVariableDeclaration[813-822]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[824-1349]:Block[824-946]"
  }, {
    "left" : "String url = feed.getLink() != null ? feed.getLink() : feed.getUrl();",
    "right" : "byte[] icon = fetch(feed.getLink());",
    "info" : "VariableDeclarationStatement[829-898]:VariableDeclarationStatement[829-865]"
  }, {
    "left" : "String",
    "right" : "String",
    "info" : "SimpleType[829-835]:SimpleType[972-978]"
  }, {
    "left" : "url",
    "right" : "icon",
    "info" : "SimpleName[836-839]:SimpleName[836-840]"
  }, {
    "left" : "feed.getLink()",
    "right" : "feed.getLink()",
    "info" : "MethodInvocation[867-881]:MethodInvocation[849-863]"
  }, {
    "left" : "feed.getUrl()",
    "right" : "feed.getUrl()",
    "info" : "MethodInvocation[884-897]:MethodInvocation[906-919]"
  }, {
    "left" : "if (url == null)",
    "right" : "if (url == null)",
    "info" : "IfStatement[904-974]:IfStatement[989-1059]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[921-974]:Block[1006-1059]"
  }, {
    "left" : "log.debug(\"url is null\");",
    "right" : "log.debug(\"url is null\");",
    "info" : "ExpressionStatement[927-952]:ExpressionStatement[1012-1037]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[957-969]:ReturnStatement[1042-1054]"
  }, {
    "left" : "int doubleSlash = url.indexOf(\"//\");",
    "right" : "int doubleSlash = url.indexOf(\"//\");",
    "info" : "VariableDeclarationStatement[980-1016]:VariableDeclarationStatement[1065-1101]"
  }, {
    "left" : "if (doubleSlash == -1)",
    "right" : "if (doubleSlash == -1)",
    "info" : "IfStatement[1020-1104]:IfStatement[1105-1189]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1043-1070]:Block[1128-1155]"
  }, {
    "left" : "doubleSlash = 0;",
    "right" : "doubleSlash = 0;",
    "info" : "ExpressionStatement[1049-1065]:ExpressionStatement[1134-1150]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1076-1104]:Block[1161-1189]"
  }, {
    "left" : "doubleSlash += 2;",
    "right" : "doubleSlash += 2;",
    "info" : "ExpressionStatement[1082-1099]:ExpressionStatement[1167-1184]"
  }, {
    "left" : "int firstSlash = url.indexOf('/', doubleSlash);",
    "right" : "int firstSlash = url.indexOf('/', doubleSlash);",
    "info" : "VariableDeclarationStatement[1108-1155]:VariableDeclarationStatement[1193-1240]"
  }, {
    "left" : "if (firstSlash != -1)",
    "right" : "if (firstSlash != -1)",
    "info" : "IfStatement[1159-1227]:IfStatement[1244-1312]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1181-1227]:Block[1266-1312]"
  }, {
    "left" : "url = url.substring(0, firstSlash);",
    "right" : "url = url.substring(0, firstSlash);",
    "info" : "ExpressionStatement[1187-1222]:ExpressionStatement[1272-1307]"
  }, {
    "left" : "byte[] icon = getIconAtRoot(url);",
    "right" : "byte[] icon = getIconAtRoot(url);",
    "info" : "VariableDeclarationStatement[1233-1266]:VariableDeclarationStatement[1318-1351]"
  }, {
    "left" : "if (icon == null)",
    "right" : "if (icon == null)",
    "info" : "IfStatement[1272-1327]:IfStatement[1357-1412]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1290-1327]:Block[1375-1412]"
  }, {
    "left" : "icon = getIconInPage(url);",
    "right" : "icon = getIconInPage(url);",
    "info" : "ExpressionStatement[1296-1322]:ExpressionStatement[1381-1407]"
  }, {
    "left" : "return icon;",
    "right" : "return icon;",
    "info" : "ReturnStatement[1333-1345]:ReturnStatement[930-942]"
  }, {
    "left" : "private",
    "right" : "private",
    "info" : "Modifier[1354-1361]:Modifier[1439-1446]"
  }, {
    "left" : "byte[]",
    "right" : "byte[]",
    "info" : "ArrayType[1362-1368]:ArrayType[1447-1453]"
  }, {
    "left" : "getIconAtRoot",
    "right" : "getIconAtRoot",
    "info" : "SimpleName[1369-1382]:SimpleName[1454-1467]"
  }, {
    "left" : "String url",
    "right" : "String url",
    "info" : "SingleVariableDeclaration[1383-1393]:SingleVariableDeclaration[1468-1478]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1395-1967]:Block[1480-2052]"
  }, {
    "left" : "byte[] bytes = null;",
    "right" : "byte[] bytes = null;",
    "info" : "VariableDeclarationStatement[1400-1420]:VariableDeclarationStatement[1485-1505]"
  }, {
    "left" : "String contentType = null;",
    "right" : "String contentType = null;",
    "info" : "VariableDeclarationStatement[1424-1450]:VariableDeclarationStatement[1509-1535]"
  }, {
    "left" : "try{...}",
    "right" : "try{...}",
    "info" : "TryStatement[1456-1870]:TryStatement[1541-1955]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1460-1708]:Block[1545-1793]"
  }, {
    "left" : "url = FeedUtils.removeTrailingSlash(url) + \"/favicon.ico\";",
    "right" : "url = FeedUtils.removeTrailingSlash(url) + \"/favicon.ico\";",
    "info" : "ExpressionStatement[1466-1524]:ExpressionStatement[1551-1609]"
  }, {
    "left" : "log.debug(\"getting root icon at {}\", url);",
    "right" : "log.debug(\"getting root icon at {}\", url);",
    "info" : "ExpressionStatement[1529-1571]:ExpressionStatement[1614-1656]"
  }, {
    "left" : "HttpResult result = getter.getBinary(url, TIMEOUT);",
    "right" : "HttpResult result = getter.getBinary(url, TIMEOUT);",
    "info" : "VariableDeclarationStatement[1576-1627]:VariableDeclarationStatement[1661-1712]"
  }, {
    "left" : "bytes = result.getContent();",
    "right" : "bytes = result.getContent();",
    "info" : "ExpressionStatement[1632-1660]:ExpressionStatement[1717-1745]"
  }, {
    "left" : "contentType = result.getContentType();",
    "right" : "contentType = result.getContentType();",
    "info" : "ExpressionStatement[1665-1703]:ExpressionStatement[1750-1788]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1729-1870]:Block[1814-1955]"
  }, {
    "left" : "log.debug(\"Failed to retrieve iconAtRoot for url {}: \", url);",
    "right" : "log.debug(\"Failed to retrieve iconAtRoot for url {}: \", url);",
    "info" : "ExpressionStatement[1735-1796]:ExpressionStatement[1820-1881]"
  }, {
    "left" : "log.trace(\"Failed to retrieve iconAtRoot for url {}: \", url, e);",
    "right" : "log.trace(\"Failed to retrieve iconAtRoot for url {}: \", url, e);",
    "info" : "ExpressionStatement[1801-1865]:ExpressionStatement[1886-1950]"
  }, {
    "left" : "if (!isValidIconResponse(bytes, contentType))",
    "right" : "if (!isValidIconResponse(bytes, contentType))",
    "info" : "IfStatement[1876-1946]:IfStatement[1961-2031]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[1922-1946]:Block[2007-2031]"
  }, {
    "left" : "bytes = null;",
    "right" : "bytes = null;",
    "info" : "ExpressionStatement[1928-1941]:ExpressionStatement[2013-2026]"
  }, {
    "left" : "return bytes;",
    "right" : "return bytes;",
    "info" : "ReturnStatement[1950-1963]:ReturnStatement[2035-2048]"
  }, {
    "left" : "private",
    "right" : "private",
    "info" : "Modifier[1972-1979]:Modifier[2057-2064]"
  }, {
    "left" : "byte[]",
    "right" : "byte[]",
    "info" : "ArrayType[1980-1986]:ArrayType[2065-2071]"
  }, {
    "left" : "getIconInPage",
    "right" : "getIconInPage",
    "info" : "SimpleName[1987-2000]:SimpleName[2072-2085]"
  }, {
    "left" : "String url",
    "right" : "String url",
    "info" : "SingleVariableDeclaration[2001-2011]:SingleVariableDeclaration[2086-2096]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2013-3246]:Block[2098-3331]"
  }, {
    "left" : "Document doc = null;",
    "right" : "Document doc = null;",
    "info" : "VariableDeclarationStatement[2020-2040]:VariableDeclarationStatement[2105-2125]"
  }, {
    "left" : "try{...}",
    "right" : "try{...}",
    "info" : "TryStatement[2044-2328]:TryStatement[2129-2413]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2048-2171]:Block[2133-2256]"
  }, {
    "left" : "HttpResult result = getter.getBinary(url, TIMEOUT);",
    "right" : "HttpResult result = getter.getBinary(url, TIMEOUT);",
    "info" : "VariableDeclarationStatement[2054-2105]:VariableDeclarationStatement[2139-2190]"
  }, {
    "left" : "doc = Jsoup.parse(new String(result.getContent()), url);",
    "right" : "doc = Jsoup.parse(new String(result.getContent()), url);",
    "info" : "ExpressionStatement[2110-2166]:ExpressionStatement[2195-2251]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2192-2328]:Block[2277-2413]"
  }, {
    "left" : "log.debug(\"Failed to retrieve page to find icon\");",
    "right" : "log.debug(\"Failed to retrieve page to find icon\");",
    "info" : "ExpressionStatement[2198-2248]:ExpressionStatement[2283-2333]"
  }, {
    "left" : "log.trace(\"Failed to retrieve page to find icon\", e);",
    "right" : "log.trace(\"Failed to retrieve page to find icon\", e);",
    "info" : "ExpressionStatement[2253-2306]:ExpressionStatement[2338-2391]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[2311-2323]:ReturnStatement[2396-2408]"
  }, {
    "left" : "Elements icons = doc.select(\"link[rel~=(?i)^(shortcut|icon|shortcut icon)$]\");",
    "right" : "Elements icons = doc.select(\"link[rel~=(?i)^(shortcut|icon|shortcut icon)$]\");",
    "info" : "VariableDeclarationStatement[2334-2412]:VariableDeclarationStatement[2419-2497]"
  }, {
    "left" : "if (icons.isEmpty())",
    "right" : "if (icons.isEmpty())",
    "info" : "IfStatement[2418-2510]:IfStatement[2503-2595]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2439-2510]:Block[2524-2595]"
  }, {
    "left" : "log.debug(\"No icon found in page {}\", url);",
    "right" : "log.debug(\"No icon found in page {}\", url);",
    "info" : "ExpressionStatement[2445-2488]:ExpressionStatement[2530-2573]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[2493-2505]:ReturnStatement[2578-2590]"
  }, {
    "left" : "String href = icons.get(0).attr(\"abs:href\");",
    "right" : "String href = icons.get(0).attr(\"abs:href\");",
    "info" : "VariableDeclarationStatement[2516-2560]:VariableDeclarationStatement[2601-2645]"
  }, {
    "left" : "if (StringUtils.isBlank(href))",
    "right" : "if (StringUtils.isBlank(href))",
    "info" : "IfStatement[2564-2658]:IfStatement[2649-2743]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2595-2658]:Block[2680-2743]"
  }, {
    "left" : "log.debug(\"No icon found in page\");",
    "right" : "log.debug(\"No icon found in page\");",
    "info" : "ExpressionStatement[2601-2636]:ExpressionStatement[2686-2721]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[2641-2653]:ReturnStatement[2726-2738]"
  }, {
    "left" : "log.debug(\"Found unconfirmed iconInPage at {}\", href);",
    "right" : "log.debug(\"Found unconfirmed iconInPage at {}\", href);",
    "info" : "ExpressionStatement[2664-2718]:ExpressionStatement[2749-2803]"
  }, {
    "left" : "byte[] bytes = null;",
    "right" : "byte[] bytes = null;",
    "info" : "VariableDeclarationStatement[2724-2744]:VariableDeclarationStatement[2809-2829]"
  }, {
    "left" : "String contentType = null;",
    "right" : "String contentType = null;",
    "info" : "VariableDeclarationStatement[2748-2774]:VariableDeclarationStatement[2833-2859]"
  }, {
    "left" : "try{...}",
    "right" : "try{...}",
    "info" : "TryStatement[2778-3098]:TryStatement[2863-3183]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2782-2921]:Block[2867-3006]"
  }, {
    "left" : "HttpResult result = getter.getBinary(href, TIMEOUT);",
    "right" : "HttpResult result = getter.getBinary(href, TIMEOUT);",
    "info" : "VariableDeclarationStatement[2788-2840]:VariableDeclarationStatement[2873-2925]"
  }, {
    "left" : "bytes = result.getContent();",
    "right" : "bytes = result.getContent();",
    "info" : "ExpressionStatement[2845-2873]:ExpressionStatement[2930-2958]"
  }, {
    "left" : "contentType = result.getContentType();",
    "right" : "contentType = result.getContentType();",
    "info" : "ExpressionStatement[2878-2916]:ExpressionStatement[2963-3001]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[2942-3098]:Block[3027-3183]"
  }, {
    "left" : "log.debug(\"Failed to retrieve icon found in page {}\", href);",
    "right" : "log.debug(\"Failed to retrieve icon found in page {}\", href);",
    "info" : "ExpressionStatement[2948-3008]:ExpressionStatement[3033-3093]"
  }, {
    "left" : "log.trace(\"Failed to retrieve icon found in page {}\", href, e);",
    "right" : "log.trace(\"Failed to retrieve icon found in page {}\", href, e);",
    "info" : "ExpressionStatement[3013-3076]:ExpressionStatement[3098-3161]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[3081-3093]:ReturnStatement[3166-3178]"
  }, {
    "left" : "if (!isValidIconResponse(bytes, contentType))",
    "right" : "if (!isValidIconResponse(bytes, contentType))",
    "info" : "IfStatement[3104-3223]:IfStatement[3189-3308]"
  }, {
    "left" : "{}",
    "right" : "{}",
    "info" : "Block[3150-3223]:Block[3235-3308]"
  }, {
    "left" : "log.debug(\"Invalid icon found for {}\", href);",
    "right" : "log.debug(\"Invalid icon found for {}\", href);",
    "info" : "ExpressionStatement[3156-3201]:ExpressionStatement[3241-3286]"
  }, {
    "left" : "return null;",
    "right" : "return null;",
    "info" : "ReturnStatement[3206-3218]:ReturnStatement[3291-3303]"
  }, {
    "left" : "return bytes;",
    "right" : "return bytes;",
    "info" : "ReturnStatement[3229-3242]:ReturnStatement[3314-3327]"
  } ]
}