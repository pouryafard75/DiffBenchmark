{
  "intraFileMappings" : {
    "matchedElements" : [
 {
      "left" : "CreateUser",
      "right" : "CreateUser",
      "info" : "TypeDeclaration[597-3242]:TypeDeclaration[597-3626]"
    }, {
      "left" : "private String userName;",
      "right" : "private String userName;",
      "info" : "FieldDeclaration[712-736]:FieldDeclaration[712-736]"
    }, {
      "left" : "private boolean admin;",
      "right" : "private boolean admin;",
      "info" : "FieldDeclaration[741-763]:FieldDeclaration[741-763]"
    }, {
      "left" : "private Expression password;",
      "right" : "private Expression password;",
      "info" : "FieldDeclaration[768-796]:FieldDeclaration[768-796]"
    }, {
      "left" : "private Expression salt;",
      "right" : "private Expression salt;",
      "info" : "FieldDeclaration[801-825]:FieldDeclaration[801-825]"
    }, {
      "left" : "private Expression hash;",
      "right" : "private Expression hash;",
      "info" : "FieldDeclaration[830-854]:FieldDeclaration[830-854]"
    }, {
      "left" : "private boolean ifNotExists;",
      "right" : "private boolean ifNotExists;",
      "info" : "FieldDeclaration[859-887]:FieldDeclaration[859-887]"
    }, {
      "left" : "private String comment;",
      "right" : "private String comment;",
      "info" : "FieldDeclaration[892-915]:FieldDeclaration[892-915]"
    }, {
      "left" : "public CreateUser(Session session)",
      "right" : "public CreateUser(Session session)",
      "info" : "MethodDeclaration[921-987]:MethodDeclaration[921-987]"
    }, {
      "left" : "public void setIfNotExists(boolean ifNotExists)",
      "right" : "public void setIfNotExists(boolean ifNotExists)",
      "info" : "MethodDeclaration[993-1088]:MethodDeclaration[993-1088]"
    }, {
      "left" : "public void setUserName(String userName)",
      "right" : "public void setUserName(String userName)",
      "info" : "MethodDeclaration[1094-1176]:MethodDeclaration[1094-1176]"
    }, {
      "left" : "public void setPassword(Expression password)",
      "right" : "public void setPassword(Expression password)",
      "info" : "MethodDeclaration[1182-1268]:MethodDeclaration[1182-1268]"
    }, {
      "left" : "private byte[] getByteArray(Expression e)",
      "right" : "private static byte[] getByteArray(Session session, Expression e)",
      "info" : "MethodDeclaration[1409-1555]:MethodDeclaration[1463-1681]"
    }, {
      "left" : "public int update()",
      "right" : "public int update()",
      "info" : "MethodDeclaration[1561-2882]:MethodDeclaration[2278-3252]"
    }, {
      "left" : "public void setSalt(Expression e)",
      "right" : "public void setSalt(Expression e)",
      "info" : "MethodDeclaration[2888-2947]:MethodDeclaration[3258-3317]"
    }, {
      "left" : "public void setHash(Expression e)",
      "right" : "public void setHash(Expression e)",
      "info" : "MethodDeclaration[2953-3012]:MethodDeclaration[3323-3382]"
    }, {
      "left" : "public void setAdmin(boolean b)",
      "right" : "public void setAdmin(boolean b)",
      "info" : "MethodDeclaration[3018-3076]:MethodDeclaration[3388-3446]"
    }, {
      "left" : "public void setComment(String comment)",
      "right" : "public void setComment(String comment)",
      "info" : "MethodDeclaration[3082-3160]:MethodDeclaration[3452-3530]"
    }, {
      "left" : "public int getType()",
      "right" : "public int getType()",
      "info" : "MethodDeclaration[3166-3239]:MethodDeclaration[3536-3623]"
    } ],
    "mappings" : [
 {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[956-987]:Block[956-987]"
    }, {
      "left" : "super(session);",
      "right" : "super(session);",
      "info" : "SuperConstructorInvocation[966-981]:SuperConstructorInvocation[966-981]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1041-1088]:Block[1041-1088]"
    }, {
      "left" : "this.ifNotExists = ifNotExists;",
      "right" : "this.ifNotExists = ifNotExists;",
      "info" : "ExpressionStatement[1051-1082]:ExpressionStatement[1051-1082]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1135-1176]:Block[1135-1176]"
    }, {
      "left" : "this.userName = userName;",
      "right" : "this.userName = userName;",
      "info" : "ExpressionStatement[1145-1170]:ExpressionStatement[1145-1170]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1227-1268]:Block[1227-1268]"
    }, {
      "left" : "this.password = password;",
      "right" : "this.password = password;",
      "info" : "ExpressionStatement[1237-1262]:ExpressionStatement[1237-1262]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1451-1555]:Block[1529-1681]"
    }, {
      "left" : "return StringUtils.convertHexToBytes(e.optimize(session).getValue(session).getString());",
      "right" : "return s == null ? new byte[0] : StringUtils.convertHexToBytes(s);",
      "info" : "ReturnStatement[1461-1549]:ReturnStatement[1609-1675]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1581-2882]:Block[2312-3252]"
    }, {
      "left" : "session.getUser().checkAdmin();",
      "right" : "session.getUser().checkAdmin();",
      "info" : "ExpressionStatement[1591-1622]:ExpressionStatement[2322-2353]"
    }, {
      "left" : "session.commit(true);",
      "right" : "session.commit(true);",
      "info" : "ExpressionStatement[1631-1652]:ExpressionStatement[2362-2383]"
    }, {
      "left" : "Database db = session.getDatabase();",
      "right" : "Database db = session.getDatabase();",
      "info" : "VariableDeclarationStatement[1661-1697]:VariableDeclarationStatement[2392-2428]"
    }, {
      "left" : "if (db.findRole(userName) != null)",
      "right" : "if (db.findRole(userName) != null)",
      "info" : "IfStatement[1706-1830]:IfStatement[2437-2561]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1741-1830]:Block[2472-2561]"
    }, {
      "left" : "throw DbException.get(ErrorCode.ROLE_ALREADY_EXISTS_1, userName);",
      "right" : "throw DbException.get(ErrorCode.ROLE_ALREADY_EXISTS_1, userName);",
      "info" : "ThrowStatement[1755-1820]:ThrowStatement[2486-2551]"
    }, {
      "left" : "if (db.findUser(userName) != null)",
      "right" : "if (db.findUser(userName) != null)",
      "info" : "IfStatement[1839-2034]:IfStatement[2570-2765]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1874-2034]:Block[2605-2765]"
    }, {
      "left" : "if (ifNotExists)",
      "right" : "if (ifNotExists)",
      "info" : "IfStatement[1888-1946]:IfStatement[2619-2677]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[1905-1946]:Block[2636-2677]"
    }, {
      "left" : "return 0;",
      "right" : "return 0;",
      "info" : "ReturnStatement[1923-1932]:ReturnStatement[2654-2663]"
    }, {
      "left" : "throw DbException.get(ErrorCode.USER_ALREADY_EXISTS_1, userName);",
      "right" : "throw DbException.get(ErrorCode.USER_ALREADY_EXISTS_1, userName);",
      "info" : "ThrowStatement[1959-2024]:ThrowStatement[2690-2755]"
    }, {
      "left" : "int id = getObjectId();",
      "right" : "int id = getObjectId();",
      "info" : "VariableDeclarationStatement[2043-2066]:VariableDeclarationStatement[2774-2797]"
    }, {
      "left" : "User user = new User(db, id, userName, false);",
      "right" : "User user = new User(db, id, userName, false);",
      "info" : "VariableDeclarationStatement[2075-2121]:VariableDeclarationStatement[2806-2852]"
    }, {
      "left" : "user.setAdmin(admin);",
      "right" : "user.setAdmin(admin);",
      "info" : "ExpressionStatement[2130-2151]:ExpressionStatement[2861-2882]"
    }, {
      "left" : "user.setComment(comment);",
      "right" : "user.setComment(comment);",
      "info" : "ExpressionStatement[2160-2185]:ExpressionStatement[2891-2916]"
    }, {
      "left" : "if (hash != null && salt != null)",
      "right" : "if (hash != null && salt != null)",
      "info" : "IfStatement[2194-2813]:IfStatement[2925-3183]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2228-2312]:Block[2959-3025]"
    }, {
      "left" : "user.setSaltAndHash(getByteArray(salt), getByteArray(hash));",
      "right" : "setSaltAndHash(user, session, salt, hash);",
      "info" : "ExpressionStatement[2242-2302]:ExpressionStatement[2973-3015]"
    }, {
      "left" : "if (password != null)",
      "right" : "if (password != null)",
      "info" : "IfStatement[2318-2813]:IfStatement[3031-3183]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2340-2744]:Block[1760-2272]"
    }, {
      "left" : "byte[] userPasswordHash;",
      "right" : "byte[] userPasswordHash;",
      "info" : "VariableDeclarationStatement[2413-2437]:VariableDeclarationStatement[1927-1951]"
    }, {
      "left" : "if (userName.length() == 0 && passwordChars.length == 0)",
      "right" : "if (userName.length() == 0 && passwordChars.length == 0)",
      "info" : "IfStatement[2450-2678]:IfStatement[2002-2214]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2507-2570]:Block[2059-2114]"
    }, {
      "left" : "userPasswordHash = new byte[0];",
      "right" : "userPasswordHash = new byte[0];",
      "info" : "ExpressionStatement[2525-2556]:ExpressionStatement[2073-2104]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2576-2678]:Block[2120-2214]"
    }, {
      "left" : "userPasswordHash = SHA256.getKeyPasswordHash(userName, passwordChars);",
      "right" : "userPasswordHash = SHA256.getKeyPasswordHash(userName, passwordChars);",
      "info" : "ExpressionStatement[2594-2664]:ExpressionStatement[2134-2204]"
    }, {
      "left" : "user.setUserPasswordHash(userPasswordHash);",
      "right" : "user.setUserPasswordHash(userPasswordHash);",
      "info" : "ExpressionStatement[2691-2734]:ExpressionStatement[2223-2266]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2750-2813]:Block[3120-3183]"
    }, {
      "left" : "throw DbException.throwInternalError();",
      "right" : "throw DbException.throwInternalError();",
      "info" : "ThrowStatement[2764-2803]:ThrowStatement[3134-3173]"
    }, {
      "left" : "db.addDatabaseObject(session, user);",
      "right" : "db.addDatabaseObject(session, user);",
      "info" : "ExpressionStatement[2822-2858]:ExpressionStatement[3192-3228]"
    }, {
      "left" : "return 0;",
      "right" : "return 0;",
      "info" : "ReturnStatement[2867-2876]:ReturnStatement[3237-3246]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2922-2947]:Block[3292-3317]"
    }, {
      "left" : "salt = e;",
      "right" : "salt = e;",
      "info" : "ExpressionStatement[2932-2941]:ExpressionStatement[3302-3311]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[2987-3012]:Block[3357-3382]"
    }, {
      "left" : "hash = e;",
      "right" : "hash = e;",
      "info" : "ExpressionStatement[2997-3006]:ExpressionStatement[3367-3376]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3050-3076]:Block[3420-3446]"
    }, {
      "left" : "admin = b;",
      "right" : "admin = b;",
      "info" : "ExpressionStatement[3060-3070]:ExpressionStatement[3430-3440]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3121-3160]:Block[3491-3530]"
    }, {
      "left" : "this.comment = comment;",
      "right" : "this.comment = comment;",
      "info" : "ExpressionStatement[3131-3154]:ExpressionStatement[3501-3524]"
    }, {
      "left" : "{}",
      "right" : "{}",
      "info" : "Block[3187-3239]:Block[3571-3623]"
    }, {
      "left" : "return CommandInterface.CREATE_USER;",
      "right" : "return CommandInterface.CREATE_USER;",
      "info" : "ReturnStatement[3197-3233]:ReturnStatement[3581-3617]"
    } ]
  },
  "interFileMappings" : { }
}